define(["jquery","core/custom_interaction_events","block_myoverview/repository","block_myoverview/view","block_myoverview/selectors"],function(n,t,r,o,v){var a={FILTERS:'[data-region="filter"]',FILTER_OPTION:"[data-filter]",DISPLAY_OPTION:"[data-display-option]"},s=function(e,t){var a=null,a="display"==e?"block_myoverview_user_view_preference":"sort"==e?"block_myoverview_user_sort_preference":"block_myoverview_user_grouping_preference";r.updateUserPreferences({preferences:[{type:a,value:t}]})};return{init:function(e){var i;e=n(e),e=(i=e).find(a.FILTERS),t.define(e,[t.events.activate]),e.on(t.events.activate,a.FILTER_OPTION,function(e,t){var a,r,e=n(e.target);e.hasClass("active")||(a=e.attr("data-filter"),r=e.attr("data-pref"),i.find(v.courseView.region).attr("data-"+a,e.attr("data-value")),s(a,r),o.init(i),t.originalEvent.preventDefault())}),t.define(e,[t.events.activate]),e.on(t.events.activate,a.DISPLAY_OPTION,function(e,t){var a,r,e=n(e.target);e.hasClass("active")||(a=e.attr("data-display-option"),r=e.attr("data-pref"),i.find(v.courseView.region).attr("data-display",e.attr("data-value")),s(a,r),o.reset(i),t.originalEvent.preventDefault())})}}});