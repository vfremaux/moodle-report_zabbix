define(["jquery","core/config","core/log","block_course_recycle/bootstrap-select"],function(s,r,e,t){return{init:function(){s(".recycle-course-edit-handle").bind("click",this.load_change_form),s("#modal-status-save").bind("click",this.submit_change_form),e.debug("AMD Course Recycle List initialized")},load_change_form:function(){var e=s(this),t='<div class="centered"><center><img id="detail-waiter" src="',c=(t+=r.wwwroot+'/pix/i/ajaxloader.gif" /></center></div>',s("#recyclelist-edit-inner-form").html(t),e.attr("data-course")),t=r.wwwroot+"/blocks/course_recycle/ajax/services.php";s.get(t+"?what=getmodalform"+("&id="+c),function(e){s("#recyclelist-edit-inner-form").html(e),s("#modal-status-save").attr("data-course",c),s(".selectpicker").selectpicker()},"html")},submit_change_form:function(){var c=s(this).attr("data-course"),e=(e=(e=r.wwwroot+"/blocks/course_recycle/ajax/services.php")+"?what=changerecycle"+("&id="+c))+("&status="+s("[name=recycleaction]:checked").val());s.get(e,function(e){var t;"success"===e.result&&(t="status-"+e.oldstate,s(".recycle-list-status-"+c).removeClass(t),t="status-"+e.newstate,s(".recycle-list-status-"+c).addClass(t),s("#recycle-status-"+c).html(e.newlabel),s("#recyclelist-edit-form").modal("hide"))},"json")},get_status_code:function(e){return["RequestForArchive","Stay","Reset","Clone","Delete","Archive","CloneAndReset","CloneArchiveAndReset"][e]}}});