define(["jquery","core/log"],function(r,a){return{init:function(){var t=this,e=(t.calendars=[],r("html").attr("lang").replace(/-/g,"_").substr(0,2));r(".dashboard-filter-autosubmit").each(function(){var a=/dashboard-auto-([0-9]+)/.exec(r(this).attr("id"))[1];r(".dashboard-filter-element-"+a).on("change",t.submitdashboardfilter)}),r(".dashboard-filter-submitters").each(function(){r(this).on("click",t.submitdashboardfilter)}),r(".dashboard-param-date").each(function(){var a=r(this).attr("id");t.calendars[a]=new dhtmlXCalendarObject(a),t.calendars[a].loadUserLanguage(e+"_utf8"),t.calendars[a].setSkin("dhx_web")}),r(".dashboard-param-daterange").each(function(){var a=(a=r(this).attr("id")).replace("_from","");t.calendars[a]=new dhtmlXCalendarObject([a+"_from",a+"_to"]),t.calendars[a].loadUserLanguage(e+"_utf8"),t.calendars[a].setSkin("dhx_web")}),a.debug("Block dashboard AMD initialized")},submitdashboardfilter:function(){var a=r(this),a=/(?:filter|filtersubmit)([0-9]+)_/.exec(a.attr("name"));a&&(a=a[1],r("#dashboard-form-"+a).submit())}}});