define(["jquery","core/config","core/log"],function(a,i,e){var s={params:null,init:function(d){s.params=d;d=new dhtmlXCalendarObject("discard_date");d.setDate(s.params.creationdate),d.setDateFormat("%d.%m.%Y %h:%i"),a("#discard_btn").bind("click",this.discard_post_before_date),e.debug("AMD livedesk discard initialized")},discard_post_before_update:function(){var d=a("#discard_date").val(),e=(e=(e=(e=i.wwwroot+"/blocks/livedesk/ajax/service.php")+"?action=discard_post"+("&bid="+s.params.bid))+("&livedeskid="+s.params.livedeskid))+("&courseid="+s.params.courseid);a.post(e+="&date="+d,function(){window.discard_messages_window.close()})}};return s});