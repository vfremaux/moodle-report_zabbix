define(["jquery","core/log"],function(s,e){return{init:function(){s(".question-category-handle").bind("click",this.togglecategory),s("#quiz-behaviour-cats-collapseall").bind("click",this.collapseall),s("#quiz-behaviour-cats-expandall").bind("click",this.expandall),s("#quiz-behaviour-cats-toggleempty").bind("click",this.toggleempty),e.debug("AMD Extended question bank initialized")},togglecategory:function(e){e.stopPropagation(),e.preventDefault();var e=s(this).attr("id"),t="question-category-sub-"+e.replace("question-category-handle-","");"block"==s("#"+t).css("display")?(s("#"+t).css("display","none"),s("#"+e).attr("aria-expanded",!1)):(s("#"+t).css("display","block"),s("#"+e).attr("aria-expanded",!0))},collapseall:function(){s(".question-category.sub").css("display","none"),s(".question-category-handle").attr("aria-expanded",!1)},expandall:function(){s(".question-category.sub").css("display","block"),s(".question-category-handle").attr("aria-expanded",!0)},toggleempty:function(){var e=s(this);"block"==s(".question-category.is-not-empty").css("display")?(s(".question-category.is-not-empty").css("display","none"),e.css("background-color","#888"),e.css("color","#fff"),s(".question-category.is-empty").parentsUntil(".questioncategories").css("display","block"),s(".question-category.is-empty").parentsUntil(".questioncategories").children(".question-category-header").css("opacity",.5)):(s(".question-category.is-not-empty").css("display","block"),s(".question-category.is-empty").parentsUntil(".questioncategories").children(".question-category-header").css("opacity",1),e.css("background-color","#ccc"),e.css("color","#000"))}}});