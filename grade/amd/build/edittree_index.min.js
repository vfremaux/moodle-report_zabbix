define(["jquery"],function(n){function c(){n("body").on("change",".itemselect.ignoredirty",c.checkMoveMenuState),n("body").on("click",'[data-action="grade_edittree-index-bulkselect"]',c.toggleAllSelectItems),n("body").on("change",".weightoverride",c.toggleWeightInput),n("#menumoveafter").on("change",function(){var e=n(this).closest("form");e.find("#bulkmoveinput").val(1),e.submit()}),c.checkMoveMenuState()}return c.toggleWeightInput=function(e){e.preventDefault();var e=n(this),t=e.closest("tr");n('input[name="weight_'+t.data("itemid")+'"]').prop("disabled",!e.prop("checked"))},c.toggleAllSelectItems=function(e){e.preventDefault();var e=n(this),t=e.closest("tr");n("."+t.data("category")+" .itemselect").prop("checked",e.data("checked")),c.checkMoveMenuState()},c.getMoveMenu=function(){return n("#menumoveafter")},c.checkMoveMenuState=function(){var e,t=c.getMoveMenu();return!!t.length&&(n(".itemselect").each(function(){return!(e=n(this).prop("checked"))}),t.prop("disabled",!e),e)},{enhance:c}});