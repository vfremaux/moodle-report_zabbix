define(["jquery","core/ajax","core/templates"],function(o,a,u){return{processResults:function(e,n){var t=[];return o.each(n,function(e,n){t.push({value:n.id,label:n._label})}),t},transport:function(e,n,r,t){a.call([{methodname:"tool_dataprivacy_get_users",args:{query:n}}])[0].then(function(e){var t=[],a=0;return o.each(e,function(e,n){t.push(u.render("tool_dataprivacy/form-user-selector-suggestion",n))}),o.when.apply(o.when,t).then(function(){var t=arguments;o.each(e,function(e,n){n._label=t[a],a++}),r(e)})}).fail(t)}}});