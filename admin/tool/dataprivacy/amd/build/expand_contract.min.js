define(["jquery","core/url","core/str"],function(d,a,l){var n=d('<img alt="" src="'+a.imageUrl("t/expanded")+'"/>'),c=d('<img alt="" src="'+a.imageUrl("t/collapsed")+'"/>');return{expandCollapse:function(a,e){a.hasClass("hide")?(a.removeClass("hide"),a.addClass("visible"),a.attr("aria-expanded",!0),e.find(":header i.fa").removeClass("fa-plus-square"),e.find(":header i.fa").addClass("fa-minus-square"),e.find(":header img.icon").attr("src",n.attr("src"))):(a.removeClass("visible"),a.addClass("hide"),a.attr("aria-expanded",!1),e.find(":header i.fa").removeClass("fa-minus-square"),e.find(":header i.fa").addClass("fa-plus-square"),e.find(":header img.icon").attr("src",c.attr("src")))},expandCollapseAll:function(a){var e="visible"==a?"hide":"visible",i="visible"==a,s="visible"==a?"fa-plus-square":"fa-minus-square",r="visible"==a?"fa-minus-square":"fa-plus-square",t=("visible"==a?n:c).attr("src");d("."+e).each(function(){d(this).removeClass(e),d(this).addClass(a),d(this).attr("aria-expanded",i)}),d(".tool_dataprivacy-expand-all").data("visibilityState",e),l.get_string(e,"tool_dataprivacy").then(function(a){d(".tool_dataprivacy-expand-all").html(a)}).catch(Notification.exception),d(":header i.fa").each(function(){d(this).removeClass(s),d(this).addClass(r)}),d(":header img.icon").each(function(){d(this).attr("src",t)})}}});