define(["jquery","core/ajax","core/log","core/notification","core/templates","core/config"],function(n,o,t,l,a,i){function c(e){var t=n('[data-field="component"]').val(),a=n('[data-field="search"]').val();document.location.hash=a,o.call([{methodname:"tool_templatelibrary_list_templates",args:{component:t,search:a,themename:e},done:r,fail:l.exception}],!0,!1)}function e(){var e,t;e=c.bind(this,i.theme),t=400,null!==d&&window.clearTimeout(d),d=window.setTimeout(function(){e(),d=null},t)}var r=function(e){a.render("tool_templatelibrary/search_results",{templates:e}).done(function(e,t){a.replaceNode(n('[data-region="searchresults"]'),e,t)}).fail(l.exception)},d=null;return n('[data-region="list-templates"]').on("change",'[data-field="component"]',e),n('[data-region="list-templates"]').on("input",'[data-field="search"]',e),n('[data-field="search"]').val(document.location.hash.replace("#","")),c(i.theme),{}});