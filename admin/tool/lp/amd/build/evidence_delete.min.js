define(["jquery","core/notification","core/ajax","core/str","core/log"],function(r,c,i,a,d){var o={};return{register:function(e,t){void 0===o[e]&&(o[e]=r("body").delegate(e,"click",function(e){var o,n=r(e.currentTarget).parents(t);!n.length||1<n.length?d.error("None or too many evidence container were found."):(o=n.data("id"))?(e.preventDefault(),e.stopPropagation(),a.get_strings([{key:"confirm",component:"moodle"},{key:"areyousure",component:"moodle"},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(e){c.confirm(e[0],e[1],e[2],e[3],function(){i.call([{methodname:"core_competency_delete_evidence",args:{id:o}}])[0].then(function(){n.remove()}).fail(c.exception)})}).fail(c.exception)):d.error("Evidence ID was not found.")}))}}});