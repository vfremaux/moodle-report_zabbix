define(["jquery","core/log","core/config"],function(n,t,i){return{init:function(){n("#id_query").bind("change",this.refreshattributes),n("#id_instance").bind("change",this.reloadactionform),t.debug("AMD Netypareo initialized")},refreshattributes:function(){var t=n(this),e=i.wwwroot+"/auth/netypareo/pro/ajax/services.php",e=(e+="?what=refreshattributes")+("&query="+t.val());n.get(e,function(t){var i=n("#id_attribute");i.empty(),n.each(t,function(t,e){i.append(n("<option></option>").attr("value",e).text(t))})},"json")},reloadactionform:function(){that=n(this);var t=i.wwwroot+"/auth/netypareo/index.php";t+="?instance="+that.val(),window.location.href=t}}});