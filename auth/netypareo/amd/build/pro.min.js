define(["jquery","core/log","core/config"],function(p,o,m){var s={component:"auth_netypareo",shortcomponent:"auth_netypareo",componentpath:"auth/netypareo",init:function(){var e="#id_s_"+s.component+"_licensekey";p(e).bind("change",this.check_product_key),p(e).trigger("change"),o.debug("AMD Pro js initialized for "+s.component+" system")},check_product_key:function(){var o="#id_s_"+s.component+"_licensekey",e=p(this),r=e.val().replace(/-/g,""),t=r.substr(0,14),r=r.substr(14,2),t=s.checksum(t),i=' <img src="'+m.wwwroot+'/pix/i/valid.png">',n=' <img src="'+m.wwwroot+'/pix/i/warning.png">',c=' <img src="'+m.wwwroot+'/pix/i/invalid.png">',a=' <img src="'+m.wwwroot+'/pix/i/ajaxloader.gif">';r===t?(r=(r=(r=m.wwwroot+"/"+s.componentpath+"/pro/ajax/services.php?what=license&service=check")+"&customerkey="+e.val())+"&provider="+p("#id_s_"+s.component+"_licenseprovider").val(),p(o+" + img").remove(),p(o).after(a),p.get(r,function(e){e.match(/SET OK/)?e.match(/-\d+.*$/)?(p(o+" + img").remove(),p(o).after(n)):(p(o+" + img").remove(),p(o).after(i)):(p(o+" + img").remove(),p(o).after(c))},"html")):(p(o+" + img").remove(),p(o).after(n))},checksum:function(e){var o,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),t=r.length,i=e.split(""),n=0;for(o in i)n+=i[o].charCodeAt(0);e=Math.floor(n/t)%t;return""+r[n%t]+r[e]}};return s});