define(["jquery","core/log"],function(e,g){var n,h,d={init:function(i){e(".digicode-digit").bind("mouseover",this.highlight_digit),e("#digicode-panel").bind("mouseout",this.lightoff_digits),e(".digicode-digit").bind("mousedown",this.add_digit),e(".digicode-digit").bind("mouseup",this.release_digits),e("#digicode-input").val(""),0<i?(n=i,h=1,e("#chrono-display").addClass("chrono-countup")):(n=-i,h=-1,e("#chrono-display").addClass("chrono-countdown")),setInterval(this.chronotimer,1e3),g.debug("ADM Digicode initialized")},add_digit:function(){var i=e(this),d=e("#digicode-input").val(),o=e("#digicode-shadow").html();d+=i.html(),o+="*",e("#digicode-input").val(d),e("#digicode-shadow").html(o),i.addClass("active")},highlight_digit:function(){var i=e(this);d.lightoff_digits(),i.addClass("highlighted")},lightoff_digits:function(){e(".digicode-digit").removeClass("highlighted")},release_digits:function(){e(".digicode-digit").removeClass("active")},chronotimer:function(){g.debug(n+" "+h),n+=h;var i=Math.floor(n/3600),d=n-3600*i,o=Math.floor(d/60),t=d-60*o;g.debug(i+" "+d+" "+o+" "+t),d=i<10?"0"+i:i,i=o<10?"0"+o:o,o=t<10?"0"+t:t,e("#chrono-display").html(d+":"+i+":"+o)}};return d});