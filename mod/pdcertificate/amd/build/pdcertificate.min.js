define(["jquery","core/log","core/config"],function(t,c,o){return{init:function(){t(".pdcertificate-select-all").bind("click",this.select_all),t(".pdcertificate-select-none").bind("click",this.unselect_all),t(".pdcertificate-sel").bind("click",this.toggle_one),t(".pdcertificate-time-override").bind("change",this.send_time_override),c.debug("AMD PDCertificate initialized 2021100800.001")},select_all:function(e){return e.stopPropagation(),t(".pdcertificate-sel").attr("checked",!0),t("#id-pdcertificate-select-action").prop("disabled",null),!1},unselect_all:function(e){return e.stopPropagation(),t(".pdcertificate-sel").attr("checked",null),t("#id-pdcertificate-select-action").prop("disabled","disabled"),!1},toggle_one:function(e){e.stopPropagation(),t(this).prop("checked")?t("#id-pdcertificate-select-action").prop("disabled",null):t("#id-pdcertificate-select-action").prop("disabled","disabled")},send_time_override:function(e){e.stopPropagation();var e=t(this),i=(i=(i=(i=o.wwwroot+"/mod/pdcertificate/ajax/service.php")+("?iid="+e.attr("data-iid"))+"&what=overridetime")+("&to="+e.val()))+("&sesskey="+o.sesskey);return t.get(i,function(e){c.debug("Returned "+e),t("#id-timeoverride-"+e).css("background-color: #008000; color: white"),t.delay(500),t("#id-timeoverride-"+e).css("background-color: initial; color: initial")},"html"),!1}}});