define(["jquery","core/notification","core/str","core/templates","mod_lti/form-field","core/modal_factory","core/modal_events"],function(o,r,i,c,e,a,T){var d,E,n={init:function(e,n,t){E=t;var o=c.render("mod_lti/contentitem",{url:e,postData:n});if(d)return d.setBody(o),void d.show();i.get_string("selectcontent","lti").then(function(e){return a.create({title:e,body:o,large:!0})}).then(function(e){(d=e).getRoot().on(T.hidden,function(){e.setBody(""),r.fetchNotifications()}),e.show()}).catch(r.exception)}},u=[new e("name",e.TYPES.TEXT,!1,""),new e("introeditor",e.TYPES.EDITOR,!1,""),new e("toolurl",e.TYPES.TEXT,!0,""),new e("securetoolurl",e.TYPES.TEXT,!0,""),new e("instructorchoiceacceptgrades",e.TYPES.CHECKBOX,!0,!0),new e("instructorchoicesendname",e.TYPES.CHECKBOX,!0,!0),new e("instructorchoicesendemailaddr",e.TYPES.CHECKBOX,!0,!0),new e("instructorcustomparameters",e.TYPES.TEXT,!0,""),new e("icon",e.TYPES.TEXT,!0,""),new e("secureicon",e.TYPES.TEXT,!0,""),new e("launchcontainer",e.TYPES.SELECT,!0,0),new e("grade_modgrade_point",e.TYPES.TEXT,!1,""),new e("cmidnumber",e.TYPES.TEXT,!0,"")];return window.processContentItemReturnData=function(e){for(var n in d&&d.hide(),u){var n=u[n],t=null;"undefined"!==o.type(e[n.name])&&(t=e[n.name]),n.setFieldValue(t)}E&&E()},n});