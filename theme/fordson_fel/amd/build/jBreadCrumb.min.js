define(["jquery","core/log"],function(a,n){"use strict";n.debug("Fordson Fel jBreadCrumb AMD");var i,d={},o={};function m(e){var n=e.data.width;return a(e.data.element).stop(),a(e.data.element).animate({width:n+d.previewWidth/2},{duration:d.timeExpansionAnimation,easing:d.easing,queue:!1}),!1}function s(e){return a(e.data.element).stop(),a(e.data.element).animate({width:d.previewWidth},{duration:d.timeCompressionAnimation,easing:d.easing,queue:!1}),!1}return a.fn.jBreadCrumb=function(e){return d=a.extend({},a.fn.jBreadCrumb.defaults,e),this.each(function(){var e,t;i=a(this),a.easing,o=a(i).find("li"),a(i).find("ul").wrap('<div style="overflow:hidden; position:relative;  width: '+a(i).css("width")+';"><div>'),0<o.length&&(a(o[o.length-1]).addClass("last"),a(o[0]).addClass("first"),o.length>d.minimumCompressionElements&&(e=a(o[o.length-1]),a(e).width()>d.maxFinalElementLength&&(0<d.beginningElementsToLeaveOpen&&d.beginningElementsToLeaveOpen--,0<d.endElementsToLeaveOpen&&d.endElementsToLeaveOpen--),a(e).width()<d.maxFinalElementLength&&a(e).width()>d.minFinalElementLength&&0<d.beginningElementsToLeaveOpen&&d.beginningElementsToLeaveOpen--,t=o.length-1-d.endElementsToLeaveOpen,a(o).each(function(e,n){var i;e>d.beginningElementsToLeaveOpen&&e<t&&(a(n).find("a").wrap("<span></span>").width(a(n).find("a").width()+d.previewWidth),i={id:e,width:a(n).width(),listElement:a(n).find("span"),isAnimating:!1,element:a(n).find("span")},a(n).bind("mouseover",i,m).bind("mouseout",i,s),a(n).find("a").unbind("mouseover",m).unbind("mouseout",s),n.autoInterval=setInterval(function(){clearInterval(n.autoInterval),a(n).find("span").animate({width:d.previewWidth},d.timeInitialCollapse,d.easing)},150*(e-2)))})))})},a.fn.jBreadCrumb.defaults={maxFinalElementLength:Math.round(.05*a(window).width()),minFinalElementLength:Math.round(.02*a(window).width()),minimumCompressionElements:1,endElementsToLeaveOpen:0,beginningElementsToLeaveOpen:0,timeExpansionAnimation:500,timeCompressionAnimation:400,timeInitialCollapse:500,easing:"swing",previewWidth:Math.round(.015*a(window).width())},{init:function(){a(document).ready(function(e){window.matchMedia("(min-width:480px)").matches?(e(".breadcrumb.style1").jBreadCrumb(),n.debug("Fordson Fel jBreadCrumb AMD binded")):n.debug("Fordson Fel jBreadCrumb AMD blocked for media")}),n.debug("Fordson Fel jBreadCrumb AMD init")}}});