define(["exports","jquery","./util"],function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=n(t),O=n(i);function n(e){return e&&e.__esModule?e:{default:e}}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function N(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i=function(u){var n,o,r,t="carousel",s="bs.carousel",e=".".concat(s),c=".data-api",_=u.fn[t],m={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},v={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},h="next",l="prev",y="left",g="right",d={SLIDE:"slide".concat(e),SLID:"slid".concat(e),KEYDOWN:"keydown".concat(e),MOUSEENTER:"mouseenter".concat(e),MOUSELEAVE:"mouseleave".concat(e),TOUCHEND:"touchend".concat(e),LOAD_DATA_API:"load".concat(e).concat(c),CLICK_DATA_API:"click".concat(e).concat(c)},p="carousel",f="active",E="slide",I="carousel-item-right",b="carousel-item-left",k="carousel-item-next",S="carousel-item-prev",C=".active",T=".active.carousel-item",D=".carousel-item",A=".carousel-item-next, .carousel-item-prev",x=".carousel-indicators",c="[data-slide], [data-slide-to]",w='[data-ride="carousel"]',i=(n=a,r=[{key:"_jQueryInterface",value:function(n){return this.each(function(){var e=u(this).data(s),t=P({},m,u(this).data()),i=("object"===L(n)&&(t=P({},t,n)),"string"==typeof n?n:t.slide);if(e||(e=new a(this,t),u(this).data(s,e)),"number"==typeof n)e.to(n);else if("string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'.concat(i,'"'));e[i]()}else t.interval&&(e.pause(),e.cycle())})}},{key:"_dataApiClickHandler",value:function(e){var t,i,n=O.default.getSelectorFromElement(this);!n||(n=u(n)[0])&&u(n).hasClass(p)&&(t=P({},u(n).data(),u(this).data()),(i=this.getAttribute("data-slide-to"))&&(t.interval=!1),a._jQueryInterface.call(u(n),t),i&&u(n).data(s).to(i),e.preventDefault())}},{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return m}}],(o=[{key:"next",value:function(){this._isSliding||this._slide(h)}},{key:"nextWhenVisible",value:function(){!document.hidden&&u(this._element).is(":visible")&&"hidden"!==u(this._element).css("visibility")&&this.next()}},{key:"prev",value:function(){this._isSliding||this._slide(l)}},{key:"pause",value:function(e){e||(this._isPaused=!0),u(this._element).find(A)[0]&&O.default.supportsTransitionEnd()&&(O.default.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(e){var t=this,i=(this._activeElement=u(this._element).find(T)[0],this._getItemIndex(this._activeElement));if(!(e>this._items.length-1||e<0))if(this._isSliding)u(this._element).one(d.SLID,function(){return t.to(e)});else{if(i===e)return this.pause(),void this.cycle();i=i<e?h:l;this._slide(i,this._items[e])}}},{key:"dispose",value:function(){u(this._element).off(e),u.removeData(this._element,s),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null}},{key:"_getConfig",value:function(e){return e=P({},m,e),O.default.typeCheckConfig(t,e,v),e}},{key:"_addEventListeners",value:function(){var t=this;this._config.keyboard&&u(this._element).on(d.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(u(this._element).on(d.MOUSEENTER,function(e){return t.pause(e)}).on(d.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&u(this._element).on(d.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))}},{key:"_keydown",value:function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}}},{key:"_getItemIndex",value:function(e){return this._items=u.makeArray(u(e).parent().find(D)),this._items.indexOf(e)}},{key:"_getItemByDirection",value:function(e,t){var i=e===h,n=e===l,s=this._getItemIndex(t),a=this._items.length-1;if((n&&0===s||i&&s===a)&&!this._config.wrap)return t;n=(s+(e===l?-1:1))%this._items.length;return-1==n?this._items[this._items.length-1]:this._items[n]}},{key:"_triggerSlideEvent",value:function(e,t){var i=this._getItemIndex(e),n=this._getItemIndex(u(this._element).find(T)[0]),e=u.Event(d.SLIDE,{relatedTarget:e,direction:t,from:n,to:i});return u(this._element).trigger(e),e}},{key:"_setActiveIndicatorElement",value:function(e){this._indicatorsElement&&(u(this._indicatorsElement).find(C).removeClass(f),(e=this._indicatorsElement.children[this._getItemIndex(e)])&&u(e).addClass(f))}},{key:"_slide",value:function(e,t){var i,n,s,a=this,l=u(this._element).find(T)[0],o=this._getItemIndex(l),r=t||l&&this._getItemByDirection(e,l),t=this._getItemIndex(r),c=Boolean(this._interval),e=e===h?(i=b,n=k,y):(i=I,n=S,g);r&&u(r).hasClass(f)?this._isSliding=!1:this._triggerSlideEvent(r,e).isDefaultPrevented()||l&&r&&(this._isSliding=!0,c&&this.pause(),this._setActiveIndicatorElement(r),s=u.Event(d.SLID,{relatedTarget:r,direction:e,from:o,to:t}),O.default.supportsTransitionEnd()&&u(this._element).hasClass(E)?(u(r).addClass(n),O.default.reflow(r),u(l).addClass(i),u(r).addClass(i),u(l).one(O.default.TRANSITION_END,function(){u(r).removeClass("".concat(i," ").concat(n)).addClass(f),u(l).removeClass("".concat(f," ").concat(n," ").concat(i)),a._isSliding=!1,setTimeout(function(){return u(a._element).trigger(s)},0)}).emulateTransitionEnd(600)):(u(l).removeClass(f),u(r).addClass(f),this._isSliding=!1,u(this._element).trigger(s)),c&&this.cycle())}}])&&N(n.prototype,o),r&&N(n,r),a);function a(e,t){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(t),this._element=u(e)[0],this._indicatorsElement=u(this._element).find(x)[0],this._addEventListeners()}return u(document).on(d.CLICK_DATA_API,c,i._dataApiClickHandler),u(window).on(d.LOAD_DATA_API,function(){u(w).each(function(){var e=u(this);i._jQueryInterface.call(e,e.data())})}),u.fn[t]=i._jQueryInterface,u.fn[t].Constructor=i,u.fn[t].noConflict=function(){return u.fn[t]=_,i._jQueryInterface},i}(t.default);e.default=i});