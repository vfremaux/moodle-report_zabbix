define(["exports","jquery","core/popper","./util"],function(e,t,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=r(t),j=r(n),H=r(o);function r(e){return e&&e.__esModule?e:{default:e}}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n=function(s){var r,a,i,t="dropdown",l="bs.dropdown",e=".".concat(l),n=".data-api",p=s.fn[t],d=new RegExp("".concat(38,"|").concat(40,"|").concat(27)),u={HIDE:"hide".concat(e),HIDDEN:"hidden".concat(e),SHOW:"show".concat(e),SHOWN:"shown".concat(e),CLICK:"click".concat(e),CLICK_DATA_API:"click".concat(e).concat(n),KEYDOWN_DATA_API:"keydown".concat(e).concat(n),KEYUP_DATA_API:"keyup".concat(e).concat(n)},_="disabled",c="show",g="dropup",m="dropright",y="dropleft",v="dropdown-menu-right",w="dropdown-menu-left",b="position-static",f='[data-toggle="dropdown"]',n=".dropdown form",C=".dropdown-menu",A=".navbar-nav",P=".dropdown-menu .dropdown-item:not(.disabled)",E="top-start",D="top-end",k="bottom-start",I="bottom-end",N="right-start",T="left-start",O={offset:0,flip:!1,boundary:"scrollParent"},K={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},o=(r=h,i=[{key:"_jQueryInterface",value:function(n){return this.each(function(){var e=s(this).data(l),t="object"===S(n)?n:null;if(e||(e=new h(this,t),s(this).data(l,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'.concat(n,'"'));e[n]()}})}},{key:"_clearMenus",value:function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var t=s.makeArray(s(f)),n=0;n<t.length;n++){var o,r=h._getParentFromElement(t[n]),a=s(t[n]).data(l),i={relatedTarget:t[n]};a&&(a=a._menu,s(r).hasClass(c)&&(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&s.contains(r,e.target)||(o=s.Event(u.HIDE,i),s(r).trigger(o),o.isDefaultPrevented()||("ontouchstart"in document.documentElement&&s("body").children().off("mouseover",null,s.noop),t[n].setAttribute("aria-expanded","false"),s(a).removeClass(c),s(r).removeClass(c).trigger(s.Event(u.HIDDEN,i))))))}}},{key:"_getParentFromElement",value:function(e){var t,n=H.default.getSelectorFromElement(e);return(t=n?s(n)[0]:t)||e.parentNode}},{key:"_dataApiKeydownHandler",value:function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||s(e.target).closest(C).length)):d.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!s(this).hasClass(_))){var t=h._getParentFromElement(this),n=s(t).hasClass(c);if(!n&&(27!==e.which||32!==e.which)||n&&(27===e.which||32===e.which))return 27===e.which&&(n=s(t).find(f)[0],s(n).trigger("focus")),void s(this).trigger("click");n=s(t).find(P).get();0!==n.length&&(t=n.indexOf(e.target),38===e.which&&0<t&&t--,40===e.which&&t<n.length-1&&t++,n[t=t<0?0:t].focus())}}},{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return O}},{key:"DefaultType",get:function(){return K}}],(a=[{key:"toggle",value:function(){if(!this._element.disabled&&!s(this._element).hasClass(_)){var e=h._getParentFromElement(this._element),t=s(this._menu).hasClass(c);if(h._clearMenus(),!t){var t={relatedTarget:this._element},n=s.Event(u.SHOW,t);if(s(e).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar){if(void 0===j.default)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");n=this._element;s(e).hasClass(g)&&(s(this._menu).hasClass(w)||s(this._menu).hasClass(v))&&(n=e),"scrollParent"!==this._config.boundary&&s(e).addClass(b),this._popper=new j.default(n,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===s(e).closest(A).length&&s("body").children().on("mouseover",null,s.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),s(this._menu).toggleClass(c),s(e).toggleClass(c).trigger(s.Event(u.SHOWN,t))}}}}},{key:"dispose",value:function(){s.removeData(this._element,l),s(this._element).off(e),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}},{key:"_addEventListeners",value:function(){var t=this;s(this._element).on(u.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})}},{key:"_getConfig",value:function(e){return e=L({},this.constructor.Default,s(this._element).data(),e),H.default.typeCheckConfig(t,e,this.constructor.DefaultType),e}},{key:"_getMenuElement",value:function(){var e;return this._menu||(e=h._getParentFromElement(this._element),this._menu=s(e).find(C)[0]),this._menu}},{key:"_getPlacement",value:function(){var e=s(this._element).parent(),t=k;return e.hasClass(g)?(t=E,s(this._menu).hasClass(v)&&(t=D)):e.hasClass(m)?t=N:e.hasClass(y)?t=T:s(this._menu).hasClass(v)&&(t=I),t}},{key:"_detectNavbar",value:function(){return 0<s(this._element).closest(".navbar").length}},{key:"_getPopperConfig",value:function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=L({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}}}}])&&x(r.prototype,a),i&&x(r,i),h);function h(e,t){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}return s(document).on(u.KEYDOWN_DATA_API,f,o._dataApiKeydownHandler).on(u.KEYDOWN_DATA_API,C,o._dataApiKeydownHandler).on("".concat(u.CLICK_DATA_API," ").concat(u.KEYUP_DATA_API),o._clearMenus).on(u.CLICK_DATA_API,f,function(e){e.preventDefault(),e.stopPropagation(),o._jQueryInterface.call(s(this),"toggle")}).on(u.CLICK_DATA_API,n,function(e){e.stopPropagation()}),s.fn[t]=o._jQueryInterface,s.fn[t].Constructor=o,s.fn[t].noConflict=function(){return s.fn[t]=p,o._jQueryInterface},o}(t.default,j.default);e.default=n});