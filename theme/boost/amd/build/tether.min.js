!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,0,module):t.Tether=e()}(this,function(o,n,a){"use strict";function l(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var O=void 0,s=(void 0===O&&(O={modules:[]}),null);function f(t){var e,o=t.getBoundingClientRect(),i={};for(e in o)i[e]=o[e];return t.ownerDocument===document||(t=t.ownerDocument.defaultView.frameElement)&&(t=f(t),i.top+=t.top,i.bottom+=t.top,i.left+=t.left,i.right+=t.left),i}function d(t){var e=(getComputedStyle(t)||{}).position,o=[];if("fixed"===e)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var n=void 0;try{n=getComputedStyle(i)}catch(t){}if(null==n)return o.push(i),o;var s=n,r=s.overflow,a=s.overflowX,s=s.overflowY;/(auto|scroll)/.test(r+s+a)&&("absolute"!==e||0<=["relative","absolute","fixed"].indexOf(n.position))&&o.push(i)}return o.push(t.ownerDocument.body),t.ownerDocument!==document&&o.push(t.ownerDocument.defaultView),o}p=0;var p,c=function(){return++p},u={};function g(){s&&document.body.removeChild(s),s=null}function E(t){var e,o=void 0,i=(t===document?t=(o=document).documentElement:o=t.ownerDocument,o.documentElement),t=f(t),n=((n=s)||((n=document.createElement("div")).setAttribute("data-tether-id",c()),C(n.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(n),s=n),e=n.getAttribute("data-tether-id"),void 0===u[e]&&(u[e]=f(n),A(function(){delete u[e]})),u[e]);return t.top-=n.top,t.left-=n.left,void 0===t.width&&(t.width=document.body.scrollWidth-t.left-t.right),void 0===t.height&&(t.height=document.body.scrollHeight-t.top-t.bottom),t.top=t.top-i.clientTop,t.left=t.left-i.clientLeft,t.right=o.body.clientWidth-t.width-t.left,t.bottom=o.body.clientHeight-t.height-t.top,t}function T(t){return t.offsetParent||document.documentElement}function S(){var t=document.createElement("div"),e=(t.style.width="100%",t.style.height="200px",document.createElement("div")),o=(C(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e),t.offsetWidth),t=(e.style.overflow="scroll",t.offsetWidth),e=(o===t&&(t=e.clientWidth),document.body.removeChild(e),o-t);return{width:e,height:e}}function C(){var o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var e in t)!{}.hasOwnProperty.call(t,e)||(o[e]=t[e])}),o}function i(e,t){void 0!==e.classList?t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)}):(t=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),t=v(e).replace(t," "),b(e,t))}function r(e,t){void 0!==e.classList?t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)}):(i(e,t),t=v(e)+" "+t,b(e,t))}function m(t,e){if(void 0!==t.classList)return t.classList.contains(e);t=v(t);return new RegExp("(^| )"+e+"( |$)","gi").test(t)}function v(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function b(t,e){t.setAttribute("class",e)}function x(e,o,t){t.forEach(function(t){-1===o.indexOf(t)&&m(e,t)&&i(e,t)}),o.forEach(function(t){m(e,t)||r(e,t)})}var y=[],A=function(t){y.push(t)},P=function(){for(var t=void 0;t=y.pop();)t()},w=((_=function(t,e,o){return e&&l(t.prototype,e),o&&l(t,o),t})(W,[{key:"on",value:function(t,e,o){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:o,once:i})}},{key:"once",value:function(t,e,o){this.on(t,e,o,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var o=0;o<this.bindings[t].length;)this.bindings[t][o].handler===e?this.bindings[t].splice(o,1):++o}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,o=arguments.length,i=Array(1<o?o-1:0),n=1;n<o;n++)i[n-1]=arguments[n];for(;e<this.bindings[t].length;){var s=this.bindings[t][e],r=s.handler,a=s.ctx,s=s.once,a=void 0===a?this:a;r.apply(a,i),s?this.bindings[t].splice(e,1):++e}}}}]),W);function W(){h(this,W)}O.Utils={getActualBoundingClientRect:f,getScrollParents:d,getBounds:E,getOffsetParent:T,extend:C,addClass:r,removeClass:i,hasClass:m,updateClasses:x,defer:A,flush:P,uniqueId:c,Evented:w,getScrollBarSize:S,removeUtilElements:g};var M=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var o=e,i=[],n=!0,e=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!o||i.length!==o);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")},_=function(t,e,o){return e&&k(t.prototype,e),o&&k(t,o),t};function k(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}if(void 0===O)throw new Error("You must include the utils.js file before tether.js");var t=O.Utils,d=t.getScrollParents,E=t.getBounds,T=t.getOffsetParent,C=t.extend,r=t.addClass,i=t.removeClass,x=t.updateClasses,A=t.defer,P=t.flush,S=t.getScrollBarSize,g=t.removeUtilElements;function B(){L.forEach(function(t){t.position(!1)}),P()}var z,e,j,Y=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],o=0;o<e.length;++o){var i=e[o];if(void 0!==t.style[i])return i}}(),L=[];function D(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function X(){if(void 0!==e&&16<e)return e=Math.min(e-16,250),void(j=setTimeout(X,250));void 0!==z&&D()-z<10||(null!=j&&(clearTimeout(j),j=null),z=D(),B(),e=D()-z)}j=e=z=null,"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,X)});function F(t){var e=t.left,o=t.top;return{left:e=void 0!==U[t.left]?U[t.left]:e,top:o=void 0!==U[t.top]?U[t.top]:o}}var H={center:"center",left:"right",right:"left"},N={middle:"middle",top:"bottom",bottom:"top"},U={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"};function V(){for(var o={top:0,left:0},t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.forEach(function(t){var e=t.top,t=t.left;"string"==typeof e&&(e=parseFloat(e,10)),"string"==typeof t&&(t=parseFloat(t,10)),o.top+=e,o.left+=t}),o}function R(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function q(t){return t=t.split(" "),{top:(t=M(t,2))[0],left:t[1]}}var I=q,$=function(){var t=o,e=w;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function o(t){var e=this;h(this,o),function(t,e,o){for(var i=!0;i;){var n=t,s=e,r=o,i=!1,a=(null===n&&(n=Function.prototype),Object.getOwnPropertyDescriptor(n,s));if(void 0!==a)return"value"in a?a.value:void 0===(l=a.get)?void 0:l.call(r);var l=Object.getPrototypeOf(n);if(null===l)return;t=l,e=s,o=r,i=!0,a=void 0}}(Object.getPrototypeOf(o.prototype),"constructor",this).call(this),this.position=this.position.bind(this),L.push(this),this.history=[],this.setOptions(t,!1),O.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(e)}),this.position()}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),_(o,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,o=arguments.length<=1||void 0===arguments[1]||arguments[1],t=(this.options=C({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},t),this.options),i=t.element,n=t.target,t=t.targetModifier;if(this.element=i,this.target=n,this.targetModifier=t,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),r(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&r(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=I(this.options.targetAttachment),this.attachment=I(this.options.attachment),this.offset=q(this.options.offset),this.targetOffset=q(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=d(this.target),!1!==this.options.enabled&&this.enable(o)}},{key:"getTargetBounds",value:function(){return void 0===this.targetModifier?E(this.target):"visible"===this.targetModifier?this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((i={height:(t=E(this.target)).height,width:t.width,top:t.top,left:t.left}).height=Math.min(i.height,t.height-(pageYOffset-t.top)),i.height=Math.min(i.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),i.height=Math.min(innerHeight,i.height),i.height-=2,i.width=Math.min(i.width,t.width-(pageXOffset-t.left)),i.width=Math.min(i.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),i.width=Math.min(innerWidth,i.width),i.width-=2,i.top<pageYOffset&&(i.top=pageYOffset),i.left<pageXOffset&&(i.left=pageXOffset),i):"scroll-handle"===this.targetModifier?(t=void 0,t=(s=this.target)===document.body?(s=document.documentElement,{left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):E(s),e=getComputedStyle(s),o=0,(s.scrollWidth>s.clientWidth||0<=[e.overflow,e.overflowX].indexOf("scroll")||this.target!==document.body)&&(o=15),i={width:15,height:.975*(o=t.height-parseFloat(e.borderTopWidth)-parseFloat(e.borderBottomWidth)-o)*(o/s.scrollHeight),left:t.left+t.width-parseFloat(e.borderLeftWidth)-15},n=0,o<408&&this.target===document.body&&(n=-11e-5*Math.pow(o,2)-.00727*o+22.58),this.target!==document.body&&(i.height=Math.max(i.height,24)),s=this.target.scrollTop/(s.scrollHeight-o),i.top=s*(o-i.height-n)+t.top+parseFloat(e.borderTopWidth),this.target===document.body&&(i.height=Math.max(i.height,24)),i):void 0;var t,e,o,i,n,s}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&r(this.target,this.getClass("enabled")),r(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;i(this.target,this.getClass("enabled")),i(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var o=this;this.disable(),L.forEach(function(t,e){t===o&&L.splice(e,1)}),0===L.length&&g()}},{key:"updateAttachClasses",value:function(t,e){var o=this,i=(t=t||this.attachment,e=e||this.targetAttachment,void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]),this._addAttachClasses),n=(t.top&&i.push(this.getClass("element-attached")+"-"+t.top),t.left&&i.push(this.getClass("element-attached")+"-"+t.left),e.top&&i.push(this.getClass("target-attached")+"-"+e.top),e.left&&i.push(this.getClass("target-attached")+"-"+e.left),[]);["left","top","bottom","right","middle","center"].forEach(function(t){n.push(o.getClass("element-attached")+"-"+t),n.push(o.getClass("target-attached")+"-"+t)}),A(function(){void 0!==o._addAttachClasses&&(x(o.element,o._addAttachClasses,n),!1!==o.options.addTargetClasses&&x(o.target,o._addAttachClasses,n),delete o._addAttachClasses)})}},{key:"position",value:function(){var t=this,f=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();i=this.targetAttachment,o=this.attachment,e=i.left,i=i.top;for(var d={left:e="auto"===e?H[o.left]:e,top:i="auto"===i?N[o.top]:i},p=(this.updateAttachClasses(this.attachment,d),this.cache("element-bounds",function(){return E(t.element)})),e=p.width,o=p.height,c=(0===e&&0===o&&void 0!==this.lastSize?(e=(i=this.lastSize).width,o=i.height):this.lastSize={width:e,height:o},this.cache("target-bounds",function(){return t.getTargetBounds()})),i=c,u=R(F(this.attachment),{width:e,height:o}),g=R(F(d),i),m=R(this.offset,{width:e,height:o}),v=R(this.targetOffset,i),u=V(u,m),g=V(g,v),n=c.left+g.left-u.left,s=c.top+g.top-u.top,b=0;b<O.modules.length;++b){var r=O.modules[b].position.call(this,{left:n,top:s,targetAttachment:d,targetPos:c,elementPos:p,offset:u,targetOffset:g,manualOffset:m,manualTargetOffset:v,scrollbarSize:C,attachment:this.attachment});if(!1===r)return!1;void 0!==r&&"object"==typeof r&&(s=r.top,n=r.left)}var y,w,a,i={page:{top:s,left:n},viewport:{top:s-pageYOffset,bottom:pageYOffset-s-o+innerHeight,left:n-pageXOffset,right:pageXOffset-n-e+innerWidth}},l=this.target.ownerDocument,h=l.defaultView,C=void 0;return l.body.scrollWidth>h.innerWidth&&(C=this.cache("scrollbar-size",S),i.viewport.bottom-=C.height),l.body.scrollHeight>h.innerHeight&&(C=this.cache("scrollbar-size",S),i.viewport.right-=C.width),-1!==["","static"].indexOf(l.body.style.position)&&-1!==["","static"].indexOf(l.body.parentElement.style.position)||(i.page.bottom=l.body.scrollHeight-s-o,i.page.right=l.body.scrollWidth-n-e),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&(y=t.cache("target-offsetparent",function(){return T(t.target)}),h=t.cache("target-offsetparent-bounds",function(){return E(y)}),w=getComputedStyle(y),o=h,a={},["Top","Left","Bottom","Right"].forEach(function(t){a[t.toLowerCase()]=parseFloat(w["border"+t+"Width"])}),h.right=l.body.scrollWidth-h.left-o.width+a.right,h.bottom=l.body.scrollHeight-h.top-o.height+a.bottom,i.page.top>=h.top+a.top&&i.page.bottom>=h.bottom&&i.page.left>=h.left+a.left&&i.page.right>=h.right&&(o=y.scrollTop,e=y.scrollLeft,i.offset={top:i.page.top-h.top+o-a.top,left:i.page.left-h.left+e-a.left})),this.move(i),this.history.unshift(i),3<this.history.length&&this.history.pop(),f&&P(),!0}}},{key:"move",value:function(t){var n=this;if(void 0!==this.element.parentNode){var e,o={};for(e in t)for(var i in o[e]={},t[e]){for(var f=!1,s=0;s<this.history.length;++s){var d=this.history[s];if(void 0!==d[e]&&!function(t,e,o){return e<=t+(o=arguments.length<=2||void 0===o?1:o)&&t-o<=e}(d[e][i],t[e][i])){f=!0;break}}f||(o[e][i]=!0)}var r,a={top:"",left:"",right:"",bottom:""},l=function(t,e){var o,i;!1!==(void 0!==n.options.optimizations?n.options.optimizations.gpu:null)?(i=o=void 0,o=t.top?(a.top=0,e.top):(a.bottom=0,-e.bottom),i=t.left?(a.left=0,e.left):(a.right=0,-e.right),a[Y]="translateX("+Math.round(i)+"px) translateY("+Math.round(o)+"px)","msTransform"!==Y&&(a[Y]+=" translateZ(0)")):(t.top?a.top=e.top+"px":a.bottom=e.bottom+"px",t.left?a.left=e.left+"px":a.right=e.right+"px")},p=!1;if((o.page.top||o.page.bottom)&&(o.page.left||o.page.right)?(a.position="absolute",l(o.page,t.page)):(o.viewport.top||o.viewport.bottom)&&(o.viewport.left||o.viewport.right)?(a.position="fixed",l(o.viewport,t.viewport)):void 0!==o.offset&&o.offset.top&&o.offset.left?(a.position="absolute",r=n.cache("target-offsetparent",function(){return T(n.target)}),T(n.element)!==r&&A(function(){n.element.parentNode.removeChild(n.element),r.appendChild(n.element)}),l(o.offset,t.offset),p=!0):(a.position="absolute",l({top:!0,left:!0},t.page)),!p){for(var c=!0,h=this.element.parentNode;h&&1===h.nodeType&&"BODY"!==h.tagName;){if("static"!==getComputedStyle(h).position){c=!1;break}h=h.parentNode}c||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var u={},g=!1;for(i in a){var m=a[i];this.element.style[i]!==m&&(g=!0,u[i]=m)}g&&A(function(){C(n.element.style,u)})}}}]),o}(),$=($.modules=[],O.position=B,C($,O)),M=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var o=e,i=[],n=!0,e=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!o||i.length!==o);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=(t=O.Utils).getBounds,C=t.extend,x=t.updateClasses,A=t.defer,G=["left","top","right","bottom"];O.modules.push({position:function(t){var f=this,d=t.top,p=t.left,y=t.targetAttachment;if(!this.options.constraints)return!0;var t=this.cache("element-bounds",function(){return E(f.element)}),c=t.height,u=t.width,t=(0===u&&0===c&&void 0!==this.lastSize&&(t=this.lastSize,u=t.width,c=t.height),this.cache("target-bounds",function(){return f.getTargetBounds()})),g=t.height,m=t.width,o=[this.getClass("pinned"),this.getClass("out-of-bounds")],w=(this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,t=t.pinnedClass;e&&o.push(e),t&&o.push(t)}),o.forEach(function(e){["left","top","right","bottom"].forEach(function(t){o.push(e+"-"+t)})}),[]),v=C({},y),b=C({},this.attachment);return this.options.constraints.forEach(function(t){var e,o,i,n,s,r=t.to,a=t.attachment,t=t.pin,l=void 0,h=void 0,r=(l=0<=(a=void 0===a?"":a).indexOf(" ")?(e=a.split(" "),h=(e=M(e,2))[0],e[1]):h=a,e=f,"scrollParent"===(o=r)?o=e.scrollParents[0]:"window"===o&&(o=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),void 0!==(o=o===document?o.documentElement:o).nodeType&&(a=E(e=o),r=a,i=getComputedStyle(o),o=[r.left,r.top,a.width+r.left,a.height+r.top],e.ownerDocument!==document&&(a=e.ownerDocument.defaultView,o[0]+=a.pageXOffset,o[1]+=a.pageYOffset,o[2]+=a.pageXOffset,o[3]+=a.pageYOffset),G.forEach(function(t,e){"Top"===(t=t[0].toUpperCase()+t.substr(1))||"Left"===t?o[e]+=parseFloat(i["border"+t+"Width"]):o[e]-=parseFloat(i["border"+t+"Width"])})),o),a=("target"!==h&&"both"!==h||(d<r[1]&&"top"===v.top&&(d+=g,v.top="bottom"),d+c>r[3]&&"bottom"===v.top&&(d-=g,v.top="top")),"together"===h&&("top"===v.top&&("bottom"===b.top&&d<r[1]?(d+=g,v.top="bottom",d+=c,b.top="top"):"top"===b.top&&d+c>r[3]&&d-(c-g)>=r[1]&&(d-=c-g,v.top="bottom",b.top="bottom")),"bottom"===v.top&&("top"===b.top&&d+c>r[3]?(d-=g,v.top="top",d-=c,b.top="bottom"):"bottom"===b.top&&d<r[1]&&d+(2*c-g)<=r[3]&&(d+=c-g,v.top="top",b.top="top")),"middle"===v.top&&(d+c>r[3]&&"top"===b.top?(d-=c,b.top="bottom"):d<r[1]&&"bottom"===b.top&&(d+=c,b.top="top"))),"target"!==l&&"both"!==l||(p<r[0]&&"left"===v.left&&(p+=m,v.left="right"),p+u>r[2]&&"right"===v.left&&(p-=m,v.left="left")),"together"===l&&(p<r[0]&&"left"===v.left?"right"===b.left?(p+=m,v.left="right",p+=u,b.left="left"):"left"===b.left&&(p+=m,v.left="right",p-=u,b.left="right"):p+u>r[2]&&"right"===v.left?"left"===b.left?(p-=m,v.left="left",p-=u,b.left="right"):"right"===b.left&&(p-=m,v.left="left",p+=u,b.left="left"):"center"===v.left&&(p+u>r[2]&&"left"===b.left?(p-=u,b.left="right"):p<r[0]&&"right"===b.left&&(p+=u,b.left="left"))),"element"!==h&&"both"!==h||(d<r[1]&&"bottom"===b.top&&(d+=c,b.top="top"),d+c>r[3]&&"top"===b.top&&(d-=c,b.top="bottom")),"element"!==l&&"both"!==l||(p<r[0]&&("right"===b.left?(p+=u,b.left="left"):"center"===b.left&&(p+=u/2,b.left="left")),p+u>r[2]&&("left"===b.left?(p-=u,b.left="right"):"center"===b.left&&(p-=u/2,b.left="right"))),"string"==typeof t?t=t.split(",").map(function(t){return t.trim()}):!0===t&&(t=["top","left","right","bottom"]),t=t||[],[]),h=[];d<r[1]&&(0<=t.indexOf("top")?(d=r[1],a.push("top")):h.push("top")),d+c>r[3]&&(0<=t.indexOf("bottom")?(d=r[3]-c,a.push("bottom")):h.push("bottom")),p<r[0]&&(0<=t.indexOf("left")?(p=r[0],a.push("left")):h.push("left")),p+u>r[2]&&(0<=t.indexOf("right")?(p=r[2]-u,a.push("right")):h.push("right")),a.length&&(n=(n=void 0)!==f.options.pinnedClass?f.options.pinnedClass:f.getClass("pinned"),w.push(n),a.forEach(function(t){w.push(n+"-"+t)})),h.length&&(s=(s=void 0)!==f.options.outOfBoundsClass?f.options.outOfBoundsClass:f.getClass("out-of-bounds"),w.push(s),h.forEach(function(t){w.push(s+"-"+t)})),(0<=a.indexOf("left")||0<=a.indexOf("right"))&&(b.left=v.left=!1),(0<=a.indexOf("top")||0<=a.indexOf("bottom"))&&(b.top=v.top=!1),v.top===y.top&&v.left===y.left&&b.top===f.attachment.top&&b.left===f.attachment.left||(f.updateAttachClasses(b,v),f.trigger("update",{attachment:b,targetAttachment:v}))}),A(function(){!1!==f.options.addTargetClasses&&x(f.target,w,o),x(f.element,w,o)}),{top:d,left:p}}});var E=(t=O.Utils).getBounds,x=t.updateClasses,A=t.defer,M=(O.modules.push({position:function(t){var e=this,o=t.top,i=t.left,t=this.cache("element-bounds",function(){return E(e.element)}),f=t.height,t=t.width,n=this.getTargetBounds(),s=o+f,r=i+t,a=[],l=(o<=n.bottom&&s>=n.top&&["left","right"].forEach(function(t){var e=n[t];e!==i&&e!==r||a.push(t)}),i<=n.right&&r>=n.left&&["top","bottom"].forEach(function(t){var e=n[t];e!==o&&e!==s||a.push(t)}),[]),h=[];return l.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(t){l.push(e.getClass("abutted")+"-"+t)}),a.length&&h.push(this.getClass("abutted")),a.forEach(function(t){h.push(e.getClass("abutted")+"-"+t)}),A(function(){!1!==e.options.addTargetClasses&&x(e.target,h,l),x(e.element,h,l)}),!0}}),function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var o=e,i=[],n=!0,e=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!o||i.length!==o);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")});return O.modules.push({position:function(t){var e,o,i,n,s=t.top,t=t.left;if(this.options.shift)return e=this.options.shift,i=void 0,n=void 0,n="string"==typeof(e="function"==typeof this.options.shift?this.options.shift.call(this,{top:s,left:t}):e)?((e=e.split(" "))[1]=e[1]||e[0],i=(o=M(e,2))[0],n=o[1],i=parseFloat(i,10),parseFloat(n,10)):(i=e.top,e.left),{top:s+=i,left:t+=n}}}),$});