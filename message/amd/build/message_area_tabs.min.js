define(["core/custom_interaction_events","core_message/message_area_events"],function(e,t){var s="[data-region='contacts-area'] [role='tab'][aria-selected='true']",a="[data-region='contacts']",n="[data-action='contacts-view']",i="[data-action='conversations-view']";function o(e){this.messageArea=e,this._init()}return o.prototype.messageArea=null,o.prototype._init=function(){e.define(this.messageArea.node,[e.events.activate,e.events.up,e.events.down,e.events.next,e.events.previous,e.events.ctrlPageUp,e.events.ctrlPageDown]),this.messageArea.onDelegateEvent(e.events.activate,i,this._viewConversations.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,n,this._viewContacts.bind(this)),this.messageArea.onDelegateEvent(e.events.up,i,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(e.events.down,i,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(e.events.next,i,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(e.events.previous,i,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(e.events.up,n,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(e.events.down,n,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(e.events.next,n,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(e.events.previous,n,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(e.events.ctrlPageUp,a,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(e.events.ctrlPageDown,a,this._toggleTabs.bind(this)),this.messageArea.onCustomEvent(t.MESSAGESENT,function(){this._selectTab(i,n)}.bind(this))},o.prototype._viewConversations=function(){this.messageArea.trigger(t.CONVERSATIONSSELECTED),this._selectTab(i,n)},o.prototype._viewContacts=function(){this.messageArea.trigger(t.CONTACTSSELECTED),this._selectTab(n,i)},o.prototype._selectTab=function(e,t){(t=this.messageArea.find(t)).removeClass("selected"),t.attr("aria-selected","false"),t.attr("tabindex","-1"),(e=this.messageArea.find(e)).addClass("selected"),e.attr("aria-selected","true"),e.attr("tabindex","0")},o.prototype._toggleTabs=function(e,t){this.messageArea.find(s).is(i)?this._viewContacts():this._viewConversations(),this.messageArea.find(s).focus(),e.preventDefault(),e.stopPropagation(),t.originalEvent.preventDefault(),t.originalEvent.stopPropagation()},o});