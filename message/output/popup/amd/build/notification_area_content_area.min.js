define(["jquery","core/templates","core/notification","core/custom_interaction_events","message_popup/notification_repository","message_popup/notification_area_events"],function(i,r,n,t,p,s){function e(t,e){this.root=i(t),this.container=this.root.closest(o.CONTAINER),this.userId=e,this.header=this.root.find(o.HEADER),this.content=this.root.find(o.CONTENT),this.footer=this.root.find(o.FOOTER),this.registerEventListeners()}var o={CONTAINER:'[data-region="notification-area"]',CONTENT:'[data-region="content"]',HEADER:'[data-region="header"]',FOOTER:'[data-region="footer"]',TOGGLE_MODE:'[data-action="toggle-mode"]'},a="message_popup/notification_area_content_area_header",h="message_popup/notification_area_content_area_content",c="message_popup/notification_area_content_area_footer";return e.prototype.getRoot=function(){return this.root},e.prototype.getContainer=function(){return this.container},e.prototype.getUserId=function(){return this.userId},e.prototype.getHeader=function(){return this.header},e.prototype.getContent=function(){return this.content},e.prototype.getFooter=function(){return this.footer},e.prototype.show=function(){this.getContainer().addClass("show-content-area")},e.prototype.hide=function(){this.getContainer().removeClass("show-content-area")},e.prototype.setHeaderHTML=function(t){this.getHeader().empty().html(t)},e.prototype.setContentHTML=function(t){this.getContent().empty().html(t)},e.prototype.setFooterHTML=function(t){this.getFooter().empty().html(t)},e.prototype.showNotification=function(t){var e=r.render(a,t).done(function(t){this.setHeaderHTML(t)}.bind(this)),o=r.render(h,t).done(function(t){this.setContentHTML(t)}.bind(this)),n=r.render(c,t).done(function(t){this.setFooterHTML(t)}.bind(this));return i.when(e,o,n).done(function(){this.show(),this.getContainer().trigger(s.notificationShown,[t])}.bind(this))},e.prototype.registerEventListeners=function(){t.define(this.getRoot(),[t.events.activate]),this.getRoot().on(t.events.activate,o.VIEW_TOGGLE,function(){this.hide()}.bind(this)),this.getContainer().on(s.showNotification,function(t,e){this.showNotification(e)}.bind(this))},e});