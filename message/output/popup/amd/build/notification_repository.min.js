define(["core/ajax","core/notification"],function(i,n){return{query:function(e){void 0===e.limit&&(e.limit=20),void 0===e.offset&&(e.offset=0);e=i.call([{methodname:"message_popup_get_popup_notifications",args:e}])[0];return e.fail(n.exception),e},countUnread:function(e){e=i.call([{methodname:"message_popup_get_unread_popup_notification_count",args:e}])[0];return e.fail(n.exception),e},markAllAsRead:function(e){e=i.call([{methodname:"core_message_mark_all_notifications_as_read",args:e}])[0];return e.fail(n.exception),e},markAsRead:function(e,a){e={notificationid:e};a&&(e.timeread=a);a=i.call([{methodname:"core_message_mark_notification_read",args:e}])[0];return a.fail(n.exception),a}}});