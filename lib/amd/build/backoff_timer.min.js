define(function(){function t(t,i){this.callback=t,this.backOffFunction=i}return t.prototype.callback=null,t.prototype.backOffFunction=null,t.prototype.time=null,t.prototype.timeout=null,t.prototype.generateNextTime=function(){var t=this.backOffFunction(this.time);return this.time=t},t.prototype.reset=function(){return this.time=null,this.stop(),this},t.prototype.stop=function(){return this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null),this},t.prototype.start=function(){var t;return this.timeout||(t=this.generateNextTime(),this.timeout=window.setTimeout(function(){this.callback(),this.stop(),this.start()}.bind(this),t)),this},t.prototype.restart=function(){return this.reset().start()},t.getIncrementalCallback=function(i,e,n,o){return function(t){return t?n<t+e?o:t+e:i}},t});