define(["jquery"],function(n){function r(t){var r=(t=n(t.target)).data("min-rows"),a=t.attr("rows"),r=(void 0===r&&t.data("min-rows",a),t.attr("rows",1),i(t));t.attr("rows",r),r!=a&&t.trigger(o.ROW_CHANGE)}var a="[data-auto-rows]",o={ROW_CHANGE:"autorows:rowchange"},i=function(t){var r=t.attr("rows"),a=t.data("min-rows"),n=t.attr("data-max-rows"),o=t.height(),i=t.innerHeight(),i=(t[0].scrollHeight-(i-o))/(o/r);return t.css("height",""),i<a?a:n&&n<=i?n:i};return{init:function(t){n(t).data("auto-rows")?n(t).on("input propertychange",r.bind(this)):n(t).on("input propertychange",a,r.bind(this))},events:o}});