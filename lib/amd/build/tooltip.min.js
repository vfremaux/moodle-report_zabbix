define(["jquery"],function(i){function t(t){this._regionSelector=t,i(this._regionSelector).each(function(t,o){var e=i(o).attr("aria-describedby");!e||(e=document.getElementById(e))&&("tooltip"==i(e).attr("role")&&(i(e).hide(),i(o).attr("tabindex","0")),i(o).on("focus",this._handleFocus.bind(this)),i(o).on("mouseover",this._handleMouseOver.bind(this)),i(o).on("mouseout",this._handleMouseOut.bind(this)),i(o).on("blur",this._handleBlur.bind(this)),i(o).on("keydown",this._handleKeyDown.bind(this)))}.bind(this))}return t.prototype._regionSelector=null,t.prototype._showTooltip=function(t){var o,t=i(t.target),e=t.attr("aria-describedby");e&&((e=i(document.getElementById(e))).show(),e.attr("aria-hidden","false"),e.is(".tooltip")||((o=i('<div class="tooltip-inner"></div>')).append(e.contents()),e.append(o),e.addClass("tooltip"),e.addClass("bottom"),e.append('<div class="tooltip-arrow"></div>')),(o=t.offset()).top+=t.height()+10,i(e).offset(o))},t.prototype._hideTooltip=function(t){var t=i(t.target).attr("aria-describedby");t&&(t=document.getElementById(t),i(t).hide(),i(t).attr("aria-hidden","true"))},t.prototype._handleFocus=function(t){this._showTooltip(t)},t.prototype._handleKeyDown=function(t){27==t.which&&this._hideTooltip(t)},t.prototype._handleMouseOver=function(t){this._showTooltip(t)},t.prototype._handleMouseOut=function(t){i(t.target).is(":focus")||this._hideTooltip(t)},t.prototype._handleBlur=function(t){this._hideTooltip(t)},t});