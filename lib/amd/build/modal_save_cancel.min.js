define(["jquery","core/notification","core/custom_interaction_events","core/modal","core/modal_events"],function(o,e,t,n,i){function a(t){n.call(this,t),this.getFooter().find(s).length||e.exception({message:"No save button found"}),this.getFooter().find(r).length||e.exception({message:"No cancel button found"})}var s='[data-action="save"]',r='[data-action="cancel"]';return((a.prototype=Object.create(n.prototype)).constructor=a).prototype.setFooter=function(){e.exception({message:"Can not change the footer of a save cancel modal"})},a.prototype.registerEventListeners=function(){n.prototype.registerEventListeners.call(this),this.getModal().on(t.events.activate,s,function(t,e){var n=o.Event(i.save);this.getRoot().trigger(n,this),n.isDefaultPrevented()||(this.hide(),e.originalEvent.preventDefault())}.bind(this)),this.getModal().on(t.events.activate,r,function(t,e){var n=o.Event(i.cancel);this.getRoot().trigger(n,this),n.isDefaultPrevented()||(this.hide(),e.originalEvent.preventDefault())}.bind(this))},a.prototype.setSaveButtonText=function(t){var e=this.getFooter().find(s);this.asyncSet(t,e.text.bind(e))},a});