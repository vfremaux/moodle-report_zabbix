define(["jquery","core/config"],function(t,i){return{fileUrl:function(e,n){e=i.wwwroot+e;return"/"!=n.charAt(0)&&(n="/"+n),i.slasharguments?e+=n:e+="?file="+encodeURIComponent(n),e},relativeUrl:function(e,n,r){if(0===e.indexOf("http:")||0===e.indexOf("https:")||0<=e.indexOf("://"))throw new Error("relativeUrl function does not accept absolute urls");"/"!=e.charAt(0)&&(e="/"+e),"admin"!==i.admin&&(e=e.replace(/^\/admin\//,"/"+i.admin+"/")),n=n||{},r&&(n.sesskey=i.sesskey);r="";return""!==(r=Object.keys(n).length?t.map(n,function(e,n){return n+"="+e}).join("&"):r)?i.wwwroot+e+"?"+r:i.wwwroot+e},imageUrl:function(e,n){return M.util.image_url(e,n)}}});