define(["jquery","core_calendar/drag_drop_data_store"],function(n,t){function a(e,n){n?e.addClass(i):e.removeClass(i)}function d(){s.find(u.DROP_ZONE).addClass(e)}function r(){s.find(u.DROP_ZONE).removeClass(e)}function o(e){return(e=n(e.target).closest(u.DROP_ZONE)).length?e:null}function c(e){n(e.target).closest(u.DRAGGABLE).length&&d()}function v(e){var n;t.hasEventId()&&(e.preventDefault(),(n=o(e))&&t.hasEventId()&&(l=l||setTimeout(function(){n.click(),l=null},1e3),a(n,!0),r()))}function f(e){var n;!t.hasEventId()||(n=o(e))&&(l&&(clearTimeout(l),l=null),a(n,!1),d(),e.preventDefault())}function E(e){var n;t.hasEventId()&&(r(),(n=o(e))&&(a(n,!1),e.preventDefault()))}var u={DRAGGABLE:'[draggable="true"][data-region="event-item"]',DROP_ZONE:'[data-drop-zone="nav-link"]'},i="bg-primary text-white",e="drop-target",g=!1,l=null,s=null;return{init:function(e){g||(document.addEventListener("dragstart",c,!1),document.addEventListener("dragover",v,!1),document.addEventListener("dragleave",f,!1),document.addEventListener("drop",E,!1),document.addEventListener("dragend",r,!1),g=!0),s=n(e),t.hasEventId()&&d()}}});