define(["jquery","core/str","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/modal_factory","core/modal_events","core_calendar/repository","core_calendar/events","core_calendar/crud"],function(n,u,v,t,e,o,g,i,l,r,d){function a(t){e.call(this,t)}var s="[data-region='summary-modal-container']",c='[data-action="edit"]',h='[data-action="delete"]';return a.TYPE="core_calendar-event_summary",((a.prototype=Object.create(e.prototype)).constructor=a).prototype.getEditButton=function(){return void 0===this.editButton&&(this.editButton=this.getFooter().find(c)),this.editButton},a.prototype.getDeleteButton=function(){return void 0===this.deleteButton&&(this.deleteButton=this.getFooter().find(h)),this.deleteButton},a.prototype.getEventId=function(){return this.getBody().find(s).attr("data-event-id")},a.prototype.getEventTitle=function(){return this.getBody().find(s).attr("data-event-title")},a.prototype.getEventCount=function(){return this.getBody().find(s).attr("data-event-count")},a.prototype.getEditUrl=function(){return this.getBody().find(s).attr("data-edit-url")},a.prototype.isActionEvent=function(){return"true"==this.getBody().find(s).attr("data-action-event")},a.prototype.registerEventListeners=function(){e.prototype.registerEventListeners.call(this),this.getRoot().on(i.bodyRendered,function(){this.getModal().data({eventTitle:this.getEventTitle(),eventId:this.getEventId(),eventCount:this.getEventCount()}).attr("data-type","event"),d.registerRemove(this.getModal())}.bind(this)),n("body").on(r.deleted,function(){this.hide()}.bind(this)),t.define(this.getEditButton(),[t.events.activate]),this.getEditButton().on(t.events.activate,function(t,e){this.isActionEvent()?n("body").trigger(r.editActionEvent,[this.getEditUrl()]):n("body").trigger(r.editEvent,[this.getEventId()]),this.hide(),t.preventDefault(),t.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation()}.bind(this))},o.register(a.TYPE,a,"core_calendar/event_summary_modal"),a});