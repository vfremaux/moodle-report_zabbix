!function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(b){"use strict";var h=["sanitize","whiteList","sanitizeFn"],v=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],g=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,$=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function O(e,t,i){if(i&&"function"==typeof i)return i(e);for(var d=Object.keys(t),s=0,h=e.length;s<h;s++)for(var n=e[s].querySelectorAll("*"),o=0,p=n.length;o<p;o++){var l=n[o],r=l.nodeName.toLowerCase();if(-1!==d.indexOf(r))for(var a=[].slice.call(l.attributes),u=[].concat(t["*"]||[],t[r]||[]),c=0,f=a.length;c<f;c++){var m=a[c];!function(e,t){var i=e.nodeName.toLowerCase();if(-1!==b.inArray(i,t))return-1===b.inArray(i,v)||Boolean(e.nodeValue.match(g)||e.nodeValue.match($));for(var s=b(t).filter(function(e,t){return t instanceof RegExp}),n=0,o=s.length;n<o;n++)if(i.match(s[n]))return 1}(m,u)&&l.removeAttribute(m.nodeName)}else l.parentNode.removeChild(l)}}if(!("classList"in document.createElement("_"))){var i=window;if("Element"in i){var s="classList",n="prototype",o=i.Element[n],e=Object,l=function(){var i=b(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.removeClass(e)},toggle:function(e,t){return i.toggleClass(e,t)},contains:function(e){return i.hasClass(e)}}};if(e.defineProperty){var t={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(o,s,t)}catch(i){void 0!==i.number&&-2146823252!==i.number||(t.enumerable=!1,e.defineProperty(o,s,t))}}else e[n].__defineGetter__&&o.__defineGetter__(s,l)}}var r,a,c,p,t=document.createElement("_");function y(e){var t,i=[],s=e.selectedOptions;if(e.multiple)for(var n=0,o=s.length;n<o;n++)t=s[n],i.push(t.value||t.text);else i=e.value;return i}t.classList.add("c1","c2"),t.classList.contains("c2")||(a=DOMTokenList.prototype.add,c=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,a.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,c.bind(this))}),t.classList.toggle("c3",!1),t.classList.contains("c3")&&(p=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:p.call(this,e)}),t=null,String.prototype.startsWith||(e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),r={}.toString,n=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==r.call(e))throw new TypeError;var i=t.length,s=String(e),n=s.length,e=1<arguments.length?arguments[1]:void 0,e=e?Number(e):0,o=(e!=e&&(e=0),Math.min(Math.max(e,0),i));if(i<n+o)return!1;for(var l=-1;++l<n;)if(t.charCodeAt(o+l)!=s.charCodeAt(l))return!1;return!0},e?e(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var u={useDefault:!1,_set:b.valHooks.select.set},w=(b.valHooks.select.set=function(e,t){return t&&!u.useDefault&&b(e).data("selected",!0),u._set.apply(this,arguments)},null),m=function(){try{return new Event("change"),!0}catch(e){return!1}}();function S(e,t,i,s){for(var n=["display","subtext","tokens"],o=!1,l=0;l<n.length;l++){var r=n[l],a=e[r];if(a&&(a=a.toString(),"display"===r&&(a=a.replace(/<[^>]+>/g,"")),a=(a=s?A(a):a).toUpperCase(),o="contains"===i?0<=a.indexOf(t):a.startsWith(t)))break}return o}function f(e){return parseInt(e,10)||0}b.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(m?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var E={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},z=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,L=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function T(e){return E[e]}function A(e){return(e=e.toString())&&e.replace(z,T).replace(L,"")}function N(e){return B.test(e=null==e?"":""+e)?e.replace(P,H):e}D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=function(e){return D[e]},o="(?:"+Object.keys(D).join("|")+")",B=RegExp(o),P=RegExp(o,"g");var D,H,B,P,W={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},I={success:!1,major:"3"};try{I.full=(b.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),I.major=I.full[0],I.success=!0}catch(e){}function M(e,t,i){var s=k.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?s.appendChild(e):s.innerHTML=e),void 0!==t&&""!==t&&(s.className=t),null!=i&&s.classList.add("optgroup-"+i),s}function R(e,t){var i,s,n=k.text.cloneNode(!1);if(e.content?n.innerHTML=e.content:(n.textContent=e.text,e.icon&&(s=k.whitespace.cloneNode(!1),(i=(!0===t?k.i:k.span).cloneNode(!1)).className=e.iconBase+" "+e.icon,k.fragment.appendChild(i),k.fragment.appendChild(s)),e.subtext&&((i=k.subtext.cloneNode(!1)).textContent=e.subtext,n.appendChild(i))),!0===t)for(;0<n.childNodes.length;)k.fragment.appendChild(n.childNodes[0]);else k.fragment.appendChild(n);return k.fragment}function d(e,t){var i=this;u.useDefault||(b.valHooks.select.set=u._set,u.useDefault=!0),this.$element=b(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=t,this.selectpicker={main:{},current:{},search:{},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title")),"number"==typeof(e=this.options.windowPadding)&&(this.options.windowPadding=[e,e,e,e]),this.val=d.prototype.val,this.render=d.prototype.render,this.refresh=d.prototype.refresh,this.setStyle=d.prototype.setStyle,this.selectAll=d.prototype.selectAll,this.deselectAll=d.prototype.deselectAll,this.destroy=d.prototype.destroy,this.remove=d.prototype.remove,this.show=d.prototype.show,this.hide=d.prototype.hide,this.init()}var U=0,x=".bs.select",C={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},j={MENU:"."+C.MENU},k={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()},V=(k.a.setAttribute("role","option"),k.subtext.className="text-muted",k.text=k.span.cloneNode(!1),k.text.className="text",k.checkMark=k.span.cloneNode(!1),new RegExp("38|40")),F=new RegExp("^9$|27");function _(e){var r,a=arguments,c=e;if([].shift.apply(a),!I.success){try{I.full=(b.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(e){d.BootstrapVersion?I.full=d.BootstrapVersion.split(" ")[0].split("."):(I.full=[I.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e))}I.major=I.full[0],I.success=!0}if("4"===I.major){var t=[];d.DEFAULTS.style===C.BUTTONCLASS&&t.push({name:"style",className:"BUTTONCLASS"}),d.DEFAULTS.iconBase===C.ICONBASE&&t.push({name:"iconBase",className:"ICONBASE"}),d.DEFAULTS.tickIcon===C.TICKICON&&t.push({name:"tickIcon",className:"TICKICON"}),C.DIVIDER="dropdown-divider",C.SHOW="show",C.BUTTONCLASS="btn-light",C.POPOVERHEADER="popover-header",C.ICONBASE="",C.TICKICON="bs-ok-default";for(var i=0;i<t.length;i++)e=t[i],d.DEFAULTS[e.name]=C[e.className]}var s=this.each(function(){var e=b(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof c&&c;if(t){if(i)for(var s in i)i.hasOwnProperty(s)&&(t.options[s]=i[s])}else{var n,o=e.data();for(n in o)o.hasOwnProperty(n)&&-1!==b.inArray(n,h)&&delete o[n];var l=b.extend({},d.DEFAULTS,b.fn.selectpicker.defaults||{},o,i);l.template=b.extend({},d.DEFAULTS.template,b.fn.selectpicker.defaults?b.fn.selectpicker.defaults.template:{},o.template,i.template),e.data("selectpicker",t=new d(this,l))}"string"==typeof c&&(r=t[c]instanceof Function?t[c].apply(t,a):t.options[c])}});return void 0!==r?r:s}d.VERSION="1.13.9",d.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:C.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:C.ICONBASE,tickIcon:C.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},d.prototype={constructor:d,init:function(){var i=this,e=this.$element.attr("id");this.selectId=U++,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.options.showTick=this.$element[0].classList.contains("show-tick"),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(j.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(C.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+x,function(){var e,t;i.isVirtual()&&(t=(e=i.$menuInner[0]).firstChild.cloneNode(!1),e.replaceChild(t,e.firstChild),e.scrollTop=0)}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){i.$menuInner.attr("aria-expanded",!1),i.$element.trigger("hide"+x,e)},"hidden.bs.dropdown":function(e){i.$element.trigger("hidden"+x,e)},"show.bs.dropdown":function(e){i.$menuInner.attr("aria-expanded",!0),i.$element.trigger("show"+x,e)},"shown.bs.dropdown":function(e){i.$element.trigger("shown"+x,e)}}),i.$element[0].hasAttribute("required")&&this.$element.on("invalid"+x,function(){i.$button[0].classList.add("bs-invalid"),i.$element.on("shown"+x+".invalid",function(){i.$element.val(i.$element.val()).off("shown"+x+".invalid")}).on("rendered"+x,function(){this.validity.valid&&i.$button[0].classList.remove("bs-invalid"),i.$element.off("rendered"+x)}),i.$button.on("blur"+x,function(){i.$element.trigger("focus").trigger("blur"),i.$button.off("blur"+x)})}),setTimeout(function(){i.createLi(),i.$element.trigger("loaded"+x)})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",t="",i=this.autofocus?" autofocus":"";I.major<4&&this.$element.parent().hasClass("input-group")&&(t=" input-group-btn");var s="",n="",o="",l="";return this.options.header&&(s='<div class="'+C.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(n='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+N(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(o='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+C.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+C.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(l='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+C.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),e='<div class="dropdown bootstrap-select'+e+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+i+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===I.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+C.MENU+" "+("4"===I.major?"":C.SHOW)+'" role="combobox">'+s+n+o+'<div class="inner '+C.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+C.MENU+" inner "+("4"===I.major?C.SHOW:"")+'"></ul></div>'+l+"</div></div>",b(e)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(k,e){e=e||0;var $=this;this.selectpicker.current=k?this.selectpicker.search:this.selectpicker.main;var y,S,E=[];function i(d,e){var t,h,i=$.selectpicker.current.elements.length,p=[],s=!0,n=$.isVirtual();$.selectpicker.view.scrollTop=d,!0===n&&$.sizeInfo.hasScrollBar&&$.$menu[0].offsetWidth>$.sizeInfo.totalMenuWidth&&($.sizeInfo.menuWidth=$.$menu[0].offsetWidth,$.sizeInfo.totalMenuWidth=$.sizeInfo.menuWidth+$.sizeInfo.scrollBarWidth,$.$menu.css("min-width",$.sizeInfo.menuWidth));for(var u=Math.ceil($.sizeInfo.menuInnerHeight/$.sizeInfo.liHeight*1.5),f=Math.round(i/u)||1,o=0;o<f;o++){var m=o===f-1?i:(o+1)*u;if(p[o]=[o*u+(o?1:0),m],!i)break;void 0===t&&d<=$.selectpicker.current.data[m-1].position-$.sizeInfo.menuInnerHeight&&(t=o)}if(void 0===t&&(t=0),r=[$.selectpicker.view.position0,$.selectpicker.view.position1],a=Math.max(0,t-1),l=Math.min(f-1,t+1),$.selectpicker.view.position0=!1!==n&&Math.max(0,p[a][0])||0,$.selectpicker.view.position1=!1===n?i:Math.min(i,p[l][1])||0,a=r[0]!==$.selectpicker.view.position0||r[1]!==$.selectpicker.view.position1,void 0!==$.activeIndex&&(S=$.selectpicker.main.elements[$.prevActiveIndex],E=$.selectpicker.main.elements[$.activeIndex],y=$.selectpicker.main.elements[$.selectedIndex],e&&($.activeIndex!==$.selectedIndex&&E&&E.length&&(E.classList.remove("active"),E.firstChild&&E.firstChild.classList.remove("active")),$.activeIndex=void 0),$.activeIndex&&$.activeIndex!==$.selectedIndex&&y&&y.length&&(y.classList.remove("active"),y.firstChild&&y.firstChild.classList.remove("active"))),void 0!==$.prevActiveIndex&&$.prevActiveIndex!==$.activeIndex&&$.prevActiveIndex!==$.selectedIndex&&S&&S.length&&(S.classList.remove("active"),S.firstChild&&S.firstChild.classList.remove("active")),(e||a)&&(l=$.selectpicker.view.visibleElements?$.selectpicker.view.visibleElements.slice():[],$.selectpicker.view.visibleElements=!1===n?$.selectpicker.current.elements:$.selectpicker.current.elements.slice($.selectpicker.view.position0,$.selectpicker.view.position1),$.setOptionStatus(),(k||!1===n&&e)&&(h=$.selectpicker.view.visibleElements,s=!(l.length===h.length&&l.every(function(e,t){return e===h[t]}))),(e||!0===n)&&s)){var l,r=$.$menuInner[0],v=document.createDocumentFragment(),a=r.firstChild.cloneNode(!1),g=$.selectpicker.view.visibleElements,b=[];r.replaceChild(a,r.firstChild);for(var o=0,w=g.length;o<w;o++){var x,c,I=g[o];$.options.sanitize&&(x=I.lastChild)&&(c=$.selectpicker.current.data[o+$.selectpicker.view.position0])&&c.content&&!c.sanitized&&(b.push(x),c.sanitized=!0),v.appendChild(I)}$.options.sanitize&&b.length&&O(b,$.options.whiteList,$.options.sanitizeFn),!0===n&&(l=0===$.selectpicker.view.position0?0:$.selectpicker.current.data[$.selectpicker.view.position0-1].position,s=$.selectpicker.view.position1>i-1?0:$.selectpicker.current.data[i-1].position-$.selectpicker.current.data[$.selectpicker.view.position1-1].position,r.firstChild.style.marginTop=l+"px",r.firstChild.style.marginBottom=s+"px"),r.firstChild.appendChild(v)}$.prevActiveIndex=$.activeIndex,$.options.liveSearch?k&&e&&($.selectpicker.view.canHighlight[a=0]||(a=1+$.selectpicker.view.canHighlight.slice(1).indexOf(!0)),n=$.selectpicker.view.visibleElements[a],$.selectpicker.view.currentActive&&($.selectpicker.view.currentActive.classList.remove("active"),$.selectpicker.view.currentActive.firstChild&&$.selectpicker.view.currentActive.firstChild.classList.remove("active")),n&&(n.classList.add("active"),n.firstChild&&n.firstChild.classList.add("active")),$.activeIndex=($.selectpicker.current.data[a]||{}).index):$.$menuInner.trigger("focus")}this.setPositionData(),i(e,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){$.noScroll||i(this.scrollTop,t),$.noScroll=!1}),b(window).off("resize"+x+"."+this.selectId+".createView").on("resize"+x+"."+this.selectId+".createView",function(){$.$newElement.hasClass(C.SHOW)&&i($.$menuInner[0].scrollTop)})},setPlaceholder:function(){var e,t,i,s=!1;return this.options.title&&!this.multiple&&(this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=this.$element[0],t=!(s=!0),(i=!this.selectpicker.view.titleOption.parentNode)&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",t=void 0===b(e.options[e.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),!i&&0===this.selectpicker.view.titleOption.index||e.insertBefore(this.selectpicker.view.titleOption,e.firstChild),t&&(e.selectedIndex=0)),s},createLi:function(){var r=this,f=this.options.iconBase,m=':not([hidden]):not([data-hidden="true"])',v=[],g=[],a=0,b=0,e=this.setPlaceholder()?1:0,t=(this.options.hideDisabled&&(m+=":not(:disabled)"),!r.options.showTick&&!r.multiple||k.checkMark.parentNode||(k.checkMark.className=f+" "+r.options.tickIcon+" check-mark",k.a.appendChild(k.checkMark)),this.$element[0].querySelectorAll("select > *"+m));function w(e){var t=g[g.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||((e=e||{}).type="divider",v.push(M(!1,C.DIVIDER,e.optID?e.optID+"div":void 0)),g.push(e))}function x(e,t){var i,s,n,o,l;(t=t||{}).divider="true"===e.getAttribute("data-divider"),t.divider?w({optID:t.optID}):(i=g.length,o=(o=e.style.cssText)?N(o):"",n=(e.className||"")+(t.optgroupClass||""),t.optID&&(n="opt "+n),t.text=e.textContent,t.content=e.getAttribute("data-content"),t.tokens=e.getAttribute("data-tokens"),t.subtext=e.getAttribute("data-subtext"),t.icon=e.getAttribute("data-icon"),t.iconBase=f,s=R(t),v.push(M((s=s,n=n,o=o,l=k.a.cloneNode(!0),s&&(11===s.nodeType?l.appendChild(s):l.insertAdjacentHTML("beforeend",s)),void 0!==n&&""!==n&&(l.className=n),"4"===I.major&&l.classList.add("dropdown-item"),o&&l.setAttribute("style",o),l),"",t.optID)),e.liIndex=i,t.display=t.content||t.text,t.type="option",t.index=i,t.option=e,t.disabled=t.disabled||e.disabled,g.push(t),s=0,t.display&&(s+=t.display.length),t.subtext&&(s+=t.subtext.length),t.icon&&(s+=1),a<s&&(a=s,r.selectpicker.view.widestOption=v[v.length-1]))}function i(e,t){var i,s,n=t[e],o=t[e-1],t=t[e+1],l=n.querySelectorAll("option"+m);if(l.length){var r,d,e={label:N(n.label),subtext:n.getAttribute("data-subtext"),icon:n.getAttribute("data-icon"),iconBase:f},h=" "+(n.className||""),a=(b++,o&&w({optID:b}),o=e,(s=k.text.cloneNode(!1)).innerHTML=o.label,o.icon&&(a=k.whitespace.cloneNode(!1),(i=k.span.cloneNode(!1)).className=o.iconBase+" "+o.icon,k.fragment.appendChild(i),k.fragment.appendChild(a)),o.subtext&&((i=k.subtext.cloneNode(!1)).textContent=o.subtext,s.appendChild(i)),k.fragment.appendChild(s),k.fragment);v.push(M(a,"dropdown-header"+h,b)),g.push({display:e.label,subtext:e.subtext,type:"optgroup-label",optID:b});for(var c=0,p=l.length;c<p;c++){var u=l[c];0===c&&(d=(r=g.length-1)+p),x(u,{headerIndex:r,lastIndex:d,optID:b,optgroupClass:h,disabled:n.disabled})}t&&w({optID:b})}}for(var s=t.length;e<s;e++){var n=t[e];"OPTGROUP"!==n.tagName?x(n,{}):i(e,t)}this.selectpicker.main.elements=v,this.selectpicker.main.data=g,this.selectpicker.current=this.selectpicker.main},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var e=this,d=this.$element[0].selectedOptions,t=d.length,i=this.$button[0],h=i.querySelector(".filter-option-inner-inner"),p=document.createTextNode(this.options.multipleSeparator),s=k.fragment.cloneNode(!1),u=!1;if(this.togglePlaceholder(),this.tabIndex(),"static"===this.options.selectedTextFormat)s=R({text:this.options.title},!0);else if(!1===(c=(c=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<t)?1<(a=this.options.selectedTextFormat.split(">")).length&&t>a[1]||1===a.length&&2<=t:c)){for(var n=0;n<t&&n<50;n++){var o=d[n],l={},r={content:o.getAttribute("data-content"),subtext:o.getAttribute("data-subtext"),icon:o.getAttribute("data-icon")};this.multiple&&0<n&&s.appendChild(p.cloneNode(!1)),o.title?l.text=o.title:r.content&&e.options.showContent?(l.content=r.content.toString(),u=!0):(e.options.showIcon&&(l.icon=r.icon,l.iconBase=this.options.iconBase),e.options.showSubtext&&!e.multiple&&r.subtext&&(l.subtext=" "+r.subtext),l.text=o.textContent.trim()),s.appendChild(R(l,!0))}49<t&&s.appendChild(document.createTextNode("..."))}else var a=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])',c=(this.options.hideDisabled&&(a+=":not(:disabled)"),this.$element[0].querySelectorAll("select > option"+a+", optgroup"+a+" option"+a).length),a="function"==typeof this.options.countSelectedText?this.options.countSelectedText(t,c):this.options.countSelectedText,s=R({text:a.replace("{0}",t.toString()).replace("{1}",c.toString())},!0);null==this.options.title&&(this.options.title=this.$element.attr("title")),s.childNodes.length||(s=R({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),i.title=s.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&u&&O([s],e.options.whiteList,e.options.sanitizeFn),h.innerHTML="",h.appendChild(s),I.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")&&(a=i.querySelector(".filter-expand"),(c=h.cloneNode(!0)).className="filter-expand",a?i.replaceChild(c,a):i.appendChild(c)),this.$element.trigger("rendered"+x)},setStyle:function(e,t){var i=this.$button[0],s=this.$newElement[0],n=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),I.major<4&&(s.classList.add("bs3"),s.parentNode.classList.contains("input-group")&&(s.previousElementSibling||s.nextElementSibling)&&(s.previousElementSibling||s.nextElementSibling).classList.contains("input-group-addon")&&s.classList.add("bs3-has-addon")),s=e?e.trim():n,"add"==t?s&&i.classList.add.apply(i.classList,s.split(" ")):"remove"==t?s&&i.classList.remove.apply(i.classList,s.split(" ")):(n&&i.classList.remove.apply(i.classList,n.split(" ")),s&&i.classList.add.apply(i.classList,s.split(" ")))},liHeight:function(e){var t,d,h,i,s,n,p,o,l,r,a,u,c;(e||!1!==this.options.size&&!this.sizeInfo)&&(this.sizeInfo||(this.sizeInfo={}),e=document.createElement("div"),t=document.createElement("div"),d=document.createElement("div"),n=document.createElement("ul"),u=document.createElement("li"),o=document.createElement("li"),p=document.createElement("li"),h=document.createElement("a"),i=document.createElement("span"),l=this.options.header&&0<this.$menu.find("."+C.POPOVERHEADER).length?this.$menu.find("."+C.POPOVERHEADER)[0].cloneNode(!0):null,c=this.options.liveSearch?document.createElement("div"):null,r=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,a=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,s=this.$element.find("option")[0],this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,i.className="text",h.className="dropdown-item "+(s?s.className:""),e.className=this.$menu[0].parentNode.className+" "+C.SHOW,e.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(t.style.minWidth=0),t.className=C.MENU+" "+C.SHOW,d.className="inner "+C.SHOW,n.className=C.MENU+" inner "+("4"===I.major?C.SHOW:""),u.className=C.DIVIDER,o.className="dropdown-header",i.appendChild(document.createTextNode("​")),h.appendChild(i),p.appendChild(h),o.appendChild(i.cloneNode(!0)),this.selectpicker.view.widestOption&&n.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),n.appendChild(p),n.appendChild(u),n.appendChild(o),l&&t.appendChild(l),c&&(s=document.createElement("input"),c.className="bs-searchbox",s.className="form-control",c.appendChild(s),t.appendChild(c)),r&&t.appendChild(r),d.appendChild(n),t.appendChild(d),a&&t.appendChild(a),e.appendChild(t),document.body.appendChild(e),h=p.offsetHeight,i=o?o.offsetHeight:0,s=l?l.offsetHeight:0,n=c?c.offsetHeight:0,p=r?r.offsetHeight:0,o=a?a.offsetHeight:0,l=b(u).outerHeight(!0),c=!!window.getComputedStyle&&window.getComputedStyle(t),r=t.offsetWidth,a=c?null:b(t),c={vert:(u={vert:f(c?c.paddingTop:a.css("paddingTop"))+f(c?c.paddingBottom:a.css("paddingBottom"))+f(c?c.borderTopWidth:a.css("borderTopWidth"))+f(c?c.borderBottomWidth:a.css("borderBottomWidth")),horiz:f(c?c.paddingLeft:a.css("paddingLeft"))+f(c?c.paddingRight:a.css("paddingRight"))+f(c?c.borderLeftWidth:a.css("borderLeftWidth"))+f(c?c.borderRightWidth:a.css("borderRightWidth"))}).vert+f(c?c.marginTop:a.css("marginTop"))+f(c?c.marginBottom:a.css("marginBottom"))+2,horiz:u.horiz+f(c?c.marginLeft:a.css("marginLeft"))+f(c?c.marginRight:a.css("marginRight"))+2},d.style.overflowY="scroll",a=t.offsetWidth-r,document.body.removeChild(e),this.sizeInfo.liHeight=h,this.sizeInfo.dropdownHeaderHeight=i,this.sizeInfo.headerHeight=s,this.sizeInfo.searchHeight=n,this.sizeInfo.actionsHeight=p,this.sizeInfo.doneButtonHeight=o,this.sizeInfo.dividerHeight=l,this.sizeInfo.menuPadding=u,this.sizeInfo.menuExtras=c,this.sizeInfo.menuWidth=r,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=a,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData())},getSelectPosition:function(){var e,t=b(window),i=this.$newElement.offset(),s=b(this.options.container),s=(this.options.container&&s.length&&!s.is("body")?((e=s.offset()).top+=parseInt(s.css("borderTopWidth")),e.left+=parseInt(s.css("borderLeftWidth"))):e={top:0,left:0},this.options.windowPadding);this.sizeInfo.selectOffsetTop=i.top-e.top-t.scrollTop(),this.sizeInfo.selectOffsetBot=t.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-s[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-t.scrollLeft(),this.sizeInfo.selectOffsetRight=t.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-s[1],this.sizeInfo.selectOffsetTop-=s[0],this.sizeInfo.selectOffsetLeft-=s[3]},setMenuSize:function(d){this.getSelectPosition();var e,t,i,s,n,o,h=this.sizeInfo.selectWidth,p=this.sizeInfo.liHeight,l=this.sizeInfo.headerHeight,r=this.sizeInfo.searchHeight,a=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,f=this.sizeInfo.dividerHeight,c=this.sizeInfo.menuPadding,m=0;if(this.options.dropupAuto&&(o=p*this.selectpicker.current.elements.length+c.vert,this.$newElement.toggleClass(C.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&o+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)o=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,t=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,i=o+l+r+a+u,n=Math.max(o-c.vert,0),e=(s=t=this.$newElement.hasClass(C.DROPUP)?this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert:t)-l-r-a-u-c.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var v=0;v<this.options.size;v++)"divider"===this.selectpicker.current.data[v].type&&m++;e=(t=p*this.options.size+m*f+c.vert)-c.vert,s=t+l+r+a+u,i=n=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(C.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-h),this.$menu.css({"max-height":s+"px",overflow:"hidden","min-height":i+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":n+"px"}),this.sizeInfo.menuInnerHeight=Math.max(e,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){var t,i,s;this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(t=this,s=b(window),i=0,this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return t.setMenuSize()}),"auto"===this.options.size?s.off("resize"+x+"."+this.selectId+".setMenuSize scroll"+x+"."+this.selectId+".setMenuSize").on("resize"+x+"."+this.selectId+".setMenuSize scroll"+x+"."+this.selectId+".setMenuSize",function(){return t.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&s.off("resize"+x+"."+this.selectId+".setMenuSize scroll"+x+"."+this.selectId+".setMenuSize"),e?i=this.$menuInner[0].scrollTop:t.multiple||"number"==typeof(e=((s=t.$element[0]).options[s.selectedIndex]||{}).liIndex)&&!1!==t.options.size&&(i=(i=t.sizeInfo.liHeight*e)-t.sizeInfo.menuInnerHeight/2+t.sizeInfo.liHeight/2),t.createView(!1,i))},setWidth:function(){var i=this;"auto"===this.options.width?requestAnimationFrame(function(){i.$menu.css("min-width","0"),i.$element.on("loaded"+x,function(){i.liHeight(),i.setMenuSize();var e=i.$newElement.clone().appendTo("body"),t=e.css("width","auto").children("button").outerWidth();e.remove(),i.sizeInfo.selectWidth=Math.max(i.sizeInfo.totalMenuWidth,t),i.$newElement.css("width",i.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=b('<div class="bs-container" />');function e(e){var t={},i=l.options.display||!!b.fn.dropdown.Constructor.Default&&b.fn.dropdown.Constructor.Default.display;l.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(C.DROPUP,e.hasClass(C.DROPUP)),s=e.offset(),r.is("body")?n={top:0,left:0}:((n=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),n.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),o=e.hasClass(C.DROPUP)?0:e[0].offsetHeight,(I.major<4||"static"===i)&&(t.top=s.top-n.top+o,t.left=s.left-n.left),t.width=e[0].offsetWidth,l.$bsContainer.css(t)}var s,n,o,l=this,r=b(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){l.isDisabled()||(e(l.$newElement),l.$bsContainer.appendTo(l.options.container).toggleClass(C.SHOW,!l.$button.hasClass(C.SHOW)).append(l.$menu))}),b(window).off("resize"+x+"."+this.selectId+" scroll"+x+"."+this.selectId).on("resize"+x+"."+this.selectId+" scroll"+x+"."+this.selectId,function(){l.$newElement.hasClass(C.SHOW)&&e(l.$newElement)}),this.$element.on("hide"+x,function(){l.$menu.data("height",l.$menu.height()),l.$bsContainer.detach()})},setOptionStatus:function(){var e=this;if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var t=0;t<e.selectpicker.view.visibleElements.length;t++){var i=e.selectpicker.current.data[t+e.selectpicker.view.position0],s=i.option;s&&(e.setDisabled(i.index,i.disabled),e.setSelected(i.index,s.selected))}},setSelected:function(e,t){var i=this.selectpicker.main.elements[e],s=this.selectpicker.main.data[e],n=void 0!==this.activeIndex,o=this.activeIndex===e||t&&!this.multiple&&!n;s.selected=t,s=i.firstChild,t&&(this.selectedIndex=e),i.classList.toggle("selected",t),i.classList.toggle("active",o),o&&(this.selectpicker.view.currentActive=i,this.activeIndex=e),s&&(s.classList.toggle("selected",t),s.classList.toggle("active",o),s.setAttribute("aria-selected",t)),o||!n&&t&&void 0!==this.prevActiveIndex&&((i=this.selectpicker.main.elements[this.prevActiveIndex]).classList.remove("active"),i.firstChild&&i.firstChild.classList.remove("active"))},setDisabled:function(e,t){var i=this.selectpicker.main.elements[e];this.selectpicker.main.data[e].disabled=t,e=i.firstChild,i.classList.toggle(C.DISABLED,t),e&&("4"===I.major&&e.classList.toggle(C.DISABLED,t),e.setAttribute("aria-disabled",t),t?e.setAttribute("tabindex",-1):e.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement[0].classList.add(C.DISABLED),this.$button.addClass(C.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(C.DISABLED)&&(this.$newElement[0].classList.remove(C.DISABLED),this.$button.removeClass(C.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element[0],t=e.selectedIndex,i=-1===t;i||e.options[t].value||(i=!0),this.$button.toggleClass("bs-placeholder",i)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var g=this,t=b(document);function e(){(g.options.liveSearch?g.$searchbox:g.$menuInner).trigger("focus")}function i(){g.dropdown&&g.dropdown._popper&&g.dropdown._popper.state.isCreated?e():requestAnimationFrame(i)}t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<I.major&&!g.dropdown&&(g.dropdown=g.$button.data("bs.dropdown"),g.dropdown._menu=g.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){g.$newElement.hasClass(C.SHOW)||g.setSize()}),this.$element.on("shown"+x,function(){g.$menuInner[0].scrollTop!==g.selectpicker.view.scrollTop&&(g.$menuInner[0].scrollTop=g.selectpicker.view.scrollTop),3<I.major?requestAnimationFrame(i):e()}),this.$menuInner.on("click","li a",function(e,t){var i=b(this),s=g.isVirtual()?g.selectpicker.view.position0:0,s=g.selectpicker.current.data[i.parent().index()+s],n=s.index,d=y(g.$element[0]),h=g.$element.prop("selectedIndex"),p=!0;if(g.multiple&&1!==g.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!g.isDisabled()&&!i.parent().hasClass(C.DISABLED)){var u=g.$element.find("option"),o=s.option,e=b(o),s=o.selected,l=e.parent("optgroup"),f=l.find("option"),r=g.options.maxOptions,a=l.data("maxOptions")||!1;if((t=n===g.activeIndex?!0:t)||(g.prevActiveIndex=g.activeIndex,g.activeIndex=void 0),g.multiple){if(o.selected=!s,g.setSelected(n,!s),i.trigger("blur"),!1!==r||!1!==a){t=r<u.filter(":selected").length,s=a<l.find("option:selected").length;if(r&&t||a&&s)if(r&&1==r){u.prop("selected",!1),e.prop("selected",!0);for(var c=0;c<u.length;c++)g.setSelected(c,!1);g.setSelected(n,!0)}else if(a&&1==a){for(l.find("option:selected").prop("selected",!1),e.prop("selected",!0),c=0;c<f.length;c++)o=f[c],g.setSelected(u.index(o),!1);g.setSelected(n,!0)}else{var i="string"==typeof g.options.maxOptionsText?[g.options.maxOptionsText,g.options.maxOptionsText]:g.options.maxOptionsText,l="function"==typeof i?i(r,a):i,i=l[0].replace("{n}",r),m=l[1].replace("{n}",a),v=b('<div class="notify"></div>');l[2]&&(i=i.replace("{var}",l[2][1<r?0:1]),m=m.replace("{var}",l[2][1<a?0:1])),e.prop("selected",!1),g.$menu.append(v),r&&t&&(v.append(b("<div>"+i+"</div>")),p=!1,g.$element.trigger("maxReached"+x)),a&&s&&(v.append(b("<div>"+m+"</div>")),p=!1,g.$element.trigger("maxReachedGrp"+x)),setTimeout(function(){g.setSelected(n,!1)},10),v.delay(750).fadeOut(300,function(){b(this).remove()})}}}else u.prop("selected",!1),o.selected=!0,g.setSelected(n,!0);!g.multiple||g.multiple&&1===g.options.maxOptions?g.$button.trigger("focus"):g.options.liveSearch&&g.$searchbox.trigger("focus"),p&&(d!=y(g.$element[0])&&g.multiple||h!=g.$element.prop("selectedIndex")&&!g.multiple)&&(w=[o.index,e.prop("selected"),d],g.$element.triggerNative("change"))}}),this.$menu.on("click","li."+C.DISABLED+" a, ."+C.POPOVERHEADER+", ."+C.POPOVERHEADER+" :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),(g.options.liveSearch&&!b(e.target).hasClass("close")?g.$searchbox:g.$button).trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),(g.options.liveSearch?g.$searchbox:g.$button).trigger("focus")}),this.$menu.on("click","."+C.POPOVERHEADER+" .close",function(){g.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){(g.options.liveSearch?g.$searchbox:g.$button).trigger("focus"),e.preventDefault(),e.stopPropagation(),b(this).hasClass("bs-select-all")?g.selectAll():g.deselectAll()}),this.$element.on("change"+x,function(){g.render(),g.$element.trigger("changed"+x,w),w=null}).on("focus"+x,function(){g.options.mobile||g.$button.trigger("focus")})},liveSearchListener:function(){var p=this,u=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){p.$searchbox.val()&&p.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var e=p.$searchbox.val();if(p.selectpicker.search.elements=[],p.selectpicker.search.data=[],e){var t=[],i=e.toUpperCase(),s={},n=[],d=p._searchStyle(),o=p.options.liveSearchNormalize;o&&(i=A(i)),p._$lisSelected=p.$menuInner.find(".selected");for(var l=0;l<p.selectpicker.main.data.length;l++){var r=p.selectpicker.main.data[l];s[l]||(s[l]=S(r,i,d,o)),s[l]&&void 0!==r.headerIndex&&-1===n.indexOf(r.headerIndex)&&(0<r.headerIndex&&(s[r.headerIndex-1]=!0,n.push(r.headerIndex-1)),s[r.headerIndex]=!0,n.push(r.headerIndex),s[r.lastIndex+1]=!0),s[l]&&"optgroup-label"!==r.type&&n.push(l)}for(var l=0,a=n.length;l<a;l++){var h=n[l],c=n[l-1],c=(r=p.selectpicker.main.data[h],p.selectpicker.main.data[c]);("divider"!==r.type||"divider"===r.type&&c&&"divider"!==c.type&&a-1!==l)&&(p.selectpicker.search.data.push(r),t.push(p.selectpicker.main.elements[h]))}p.activeIndex=void 0,p.noScroll=!0,p.$menuInner.scrollTop(0),p.selectpicker.search.elements=t,p.createView(!0),t.length||(u.className="no-results",u.innerHTML=p.options.noneResultsText.replace("{0}",'"'+N(e)+'"'),p.$menuInner[0].firstChild.appendChild(u))}else p.$menuInner.scrollTop(0),p.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){if(void 0===e)return this.$element.val();var t=y(this.$element[0]);return w=[null,null,t],this.$element.val(e).trigger("changed"+x,w),this.render(),w=null,this.$element},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=0,s=0,n=y(t);t.classList.add("bs-select-hidden");for(var o=0,l=this.selectpicker.current.elements.length;o<l;o++){var r=this.selectpicker.current.data[o],a=r.option;a&&!r.disabled&&"divider"!==r.type&&(r.selected&&i++,(a.selected=e)&&s++)}t.classList.remove("bs-select-hidden"),i!==s&&(this.setOptionStatus(),this.togglePlaceholder(),w=[null,null,n],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var d,t,i,h,s=b(this),n=s.hasClass("dropdown-toggle"),o=(n?s.closest(".dropdown"):s.closest(j.MENU)).data("this"),l=o.findLis(),p=!1,n=9===e.which&&!n&&!o.options.selectOnTab,r=V.test(e.which)||n,u=o.$menuInner[0].scrollTop,a=o.isVirtual(),c=!0===a?o.selectpicker.view.position0:0;if(!(d=o.$newElement.hasClass(C.SHOW))&&(r||48<=e.which&&e.which<=57||96<=e.which&&e.which<=105||65<=e.which&&e.which<=90)&&(o.$button.trigger("click.bs.dropdown.data-api"),o.options.liveSearch))o.$searchbox.trigger("focus");else{if(27===e.which&&d&&(e.preventDefault(),o.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),r){if(!l.length)return;-1!==(r=void 0===(r=!0===a?l.index(l.filter(".active")):o.activeIndex)?-1:r)&&((t=o.selectpicker.current.elements[r+c]).classList.remove("active"),t.firstChild&&t.firstChild.classList.remove("active")),38===e.which?(-1!==r&&r--,r+c<0&&(r+=l.length),o.selectpicker.view.canHighlight[r+c]||-1==(r=o.selectpicker.view.canHighlight.slice(0,r+c).lastIndexOf(!0)-c)&&(r=l.length-1)):40!==e.which&&!n||(++r+c>=o.selectpicker.view.canHighlight.length&&(r=0),o.selectpicker.view.canHighlight[r+c]||(r=r+1+o.selectpicker.view.canHighlight.slice(r+c+1).indexOf(!0))),e.preventDefault();a=c+r;38===e.which?0===c&&r===l.length-1?(o.$menuInner[0].scrollTop=o.$menuInner[0].scrollHeight,a=o.selectpicker.current.elements.length-1):p=(h=(i=o.selectpicker.current.data[a]).position-i.height)<u:40!==e.which&&!n||(0===r?a=o.$menuInner[0].scrollTop=0:p=u<(h=(i=o.selectpicker.current.data[a]).position-o.sizeInfo.menuInnerHeight)),(t=o.selectpicker.current.elements[a])&&(t.classList.add("active"),t.firstChild&&t.firstChild.classList.add("active")),o.activeIndex=o.selectpicker.current.data[a].index,o.selectpicker.view.currentActive=t,p&&(o.$menuInner[0].scrollTop=h),(o.options.liveSearch?o.$searchbox:s).trigger("focus")}else if(!s.is("input")&&!F.test(e.which)||32===e.which&&o.selectpicker.keydown.keyHistory){var f,m=[];e.preventDefault(),o.selectpicker.keydown.keyHistory+=W[e.which],o.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(o.selectpicker.keydown.resetKeyHistory.cancel),o.selectpicker.keydown.resetKeyHistory.cancel=o.selectpicker.keydown.resetKeyHistory.start(),f=o.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(f)&&(f=f.charAt(0));for(var v=0;v<o.selectpicker.current.data.length;v++){var g=o.selectpicker.current.data[v];S(g,f,"startsWith",!0)&&o.selectpicker.view.canHighlight[v]&&m.push(g.index)}m.length&&(c=0,l.removeClass("active").find("a").removeClass("active"),1===f.length&&(-1===(c=m.indexOf(o.activeIndex))||c===m.length-1?c=0:c++),n=m[c],p=0<u-(i=o.selectpicker.main.data[n]).position?(h=i.position-i.height,!0):(h=i.position-o.sizeInfo.menuInnerHeight,i.position>u+o.sizeInfo.menuInnerHeight),(t=o.selectpicker.main.elements[n]).classList.add("active"),t.firstChild&&t.firstChild.classList.add("active"),o.activeIndex=m[c],t.firstChild.focus(),p&&(o.$menuInner[0].scrollTop=h),s.trigger("focus"))}d&&(32===e.which&&!o.selectpicker.keydown.keyHistory||13===e.which||9===e.which&&o.options.selectOnTab)&&(32!==e.which&&e.preventDefault(),o.options.liveSearch&&32===e.which||(o.$menuInner.find(".active a").trigger("click",!0),s.trigger("focus"),o.options.liveSearch||(e.preventDefault(),b(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var e=b.extend({},this.options,this.$element.data());this.options=e,this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+x)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),(this.$bsContainer||this.$menu).remove(),this.$element.off(x).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),b(window).off(x+"."+this.selectId)}};var q=b.fn.selectpicker;b.fn.selectpicker=_,b.fn.selectpicker.Constructor=d,b.fn.selectpicker.noConflict=function(){return b.fn.selectpicker=q,this},b(document).off("keydown.bs.dropdown.data-api").on("keydown"+x,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',d.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),b(window).on("load"+x+".data-api",function(){b(".selectpicker").each(function(){var e=b(this);_.call(e,e.data())})})}(e)});