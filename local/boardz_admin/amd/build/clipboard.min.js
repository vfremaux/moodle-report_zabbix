define(["jquery","core/config","core/log"],function(e,o,t){return{init:function(){e(".snappable").bind("click",this.snapToClipboard),e("#entity-drop-button").bind("click",this.openImportPopup),e("#entity-drop-button-close").bind("click",this.closeImportPopup),e("#entity-import-button").bind("click",this.importEntity),t.debug("AMD Boardz clipboard initialized")},snapToClipboard:function(){var t=e(this),o=t.attr("data-target"),t=("self"===o?t:e("#"+o)).attr("data-str"),o=document.createElement("textarea");o.value=t,o.setAttribute("readonly",""),o.style.position="absolute",o.style.left="-9999px",document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},openImportPopup:function(t){t=parseInt(t.pageX);e("#entity-drop-form").css("left",t-330+"px"),e("#entity-drop-form").css("top","90px"),e("#entity-drop-form").removeClass("local-boardz-admin-hide")},closeImportPopup:function(t){e("#entity-drop-form").addClass("local-boardz-admin-hide"),t.stopPropagation()},importEntity:function(){var t=(t=(t=o.wwwroot+"/local/boardz_admin/ajax/services.php")+("?sesskey="+o.sesskey)+"&what=import")+("&importdata="+e('textarea[name="entityimportdata"]').val());e.get(t,function(){},"json"),e("#entity-drop-form").addClass("local-boardz-admin-hide")}}});